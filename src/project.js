System.register("chunks:///GameInfo.js",["./_virtual/_rollupPluginBabelHelpers.js","cc"],(function(n,o){var u,e,a,i,l,_,t,h,c,r,s,d;return n({_dec:void 0,_class:void 0,_class2:void 0,_temp:void 0}),{setters:[function(n){u=n.inherits,e=n.classCallCheck,a=n.possibleConstructorReturn,i=n.getPrototypeOf},function(n){l=n.cclegacy,_=n._decorator,t=n.Component}],execute:function(){l._RF.push({},"0e1d7J/9URLRZApbi+MjyUs","GameInfo",void 0),d=_.ccclass,_.property,n("GameInfo",(h=d("GameInfo"),h((s=r=function(n){function o(){return e(this,o),a(this,i(o).apply(this,arguments))}return u(o,n),o}(t),r.canPlay=0,r.jili_type=0,r.ding_audio_path="res/audio/ding.mp3",r.bi_audio_path="res/audio/bi.wav",r.zhan_audio_path="res/audio/zhandou.mp3",r.bg_audio_path="res/audio/bg.mp3",r.bao_audio_path="res/audio/bao.mp3",r.fire_audio_path="res/audio/fire.mp3",r.path_renwu="",r.json_renwu=null,r.xhtad=null,r.tong_data=[],r.open_ci=0,r.gameAccessInfo="",r.ad_gailu=0,r.die_ui=null,r.bei_t=null,r.bi_bei_t=null,r.ok_ui=null,r.btn_shoot=null,r.hit_ui=null,r.lv_t=null,r.jingyan_p=null,r.man_t=null,r.xue=100,r.all_enimy=0,r.lu_m=0,r.lu_f=0,r.index_ji=0,r.version_t="V 1.0.0567",r.msg_str="            7月6日下午午4点发布了1.0.0567版,更新内容:1.优化游戏场景，提升玩家体验;2.优化游戏界面，提升品质;3.优化操作代码，更容易控制;4.修复已知BUG;      ",r.tong=["激励广告","进入游戏","关注按钮","街区杀敌","闹市拾金","天天打怪升级","险恶沼泽","加倍","减倍","创建好友PK","加入好友PK","好友PK配对成功","4人混战按钮","创建4人混战","加入4人混战","4人混战配对成功","游戏成功界面","游戏失败界面","普通邀请次数","对战邀请次数","飞机驾驶","越野车驾驶","每日挑战赛","全民大作战","大作战匹配错误","大作战匹配成功","休闲捕鱼","格子广告展示概率","录制开关","飞机选择","难度选择","回放分享","关于更多","微信广告展示概率"],r.jili_touch=0,r.tong_view=null,r.luzhi=1,r.parent=null,r.gaoshou_touch=0,r.daren_touch=0,r.fushang_touch=0,r.fuhao_touch=0,r.rig=null,r.caizhu_touch=0,r.server=null,r.accessInfo="",r.clientId="",r.isFangZhu=!1,r.myPos=0,r.roomInfo=null,r.maxFrameId=null,r.roomState={inTeam:1,gameStart:2,gameEnd:3,roomDestroy:4},r.msg={SHOOT:1,MOVE_DIRECTION:2,MOVE_STOP:3,STAT:4},r.tuhao_touch=0,r.share_state=0,r.shouyi_state=0,r.level_touch=0,r.tansuo_touch=0,r.nu=0,r.shijian_touch=0,r.renwu_touch=0,r.jiaocheng_touch=0,r.pipei_touch=0,r.duizhan_touch=0,r.tiaozhan_touch=0,r.dazuozhan_touch=0,r.dazuozhan_no_touch=0,r.dazuozhan_ok_touch=0,r.xiaozhen_touch=0,r.login=0,r.pk_touch=0,r.pk_create_touch=0,r.pk_join_touch=0,r.pk_ok=0,r.hun_touch=0,r.hun_create_touch=0,r.hun_join_touch=0,r.hun_ok=0,r.v_index=0,r.ok_touch=0,r.fail_touch=0,r.yao_touch=0,r.yao_pk_touch=0,r.jili_touch_t=null,r.fei_touch=0,r.car_touch=0,r.index_rw=0,r.index_zy=0,r.showAd=0,r.jiang=0,r.all_btn=[],r.map_index=0,r.jc_index=0,r.yao_ma="",r.bi_model=null,r.speed_t=null,r.angle_t=null,r.yao=0,r.vip=0,r.ji_index_from=2,r.ji_index_to=5,r.minSpeed=.01,r.maxSpeed=.005,r.turn=.025,r.up=1.5,r.qie_id=0,r.level_curr=0,r.btn_shuang=null,r.game_type=0,r.game_index=0,r.game_fuhuo_v=null,r.game_xuan_v=null,r.lv=1,r.jingyan=0,r.bei=1,r.level=1,r.bi=1e3,r.jiangli=0,r.xiaohao=5,r.you=0,r.tiji=0,r.plane_index=0,r.nandu_index=0,r.nandu=["新手专区","初级飞行员","中级飞行员","高级飞行员","特级飞行员","初级飞行家"],r.renwu=10,r.time=null,r.gaodu=null,r.nickName="",r.player=null,r.wei=null,r.rw1=0,r.rw2=0,r.pk_create=null,r.userData="",r.deng=null,r.day=0,r.avatarUrl="",r.score=0,r.state=0,r.create=0,r.inGame=0,r.ok=0,r.isLogin=!1,r.view=0,r.dui=null,r.room=null,r.room_id="",r.room_name="",r.room_type="NONE",r.player_id=0,r.joinRoomId="",r.main=null,r.ErrCode=null,r.ENUM=null,r.gameInfo=null,r.isOK=!1,r.moshi_type="好友PK",r.moshi_type1="好友PK",r.maxPlayer=2,r.openId="",r.list_tip=null,r.list_fang=null,c=s))||c)),l._RF.pop()}}}));

System.register("chunks:///bg_ctr.js",["./_virtual/_rollupPluginBabelHelpers.js","cc","./GameInfo.js"],(function(t,e){var i,s,n,o,c,r,p,a,d,h,l,u,f;return t({_dec:void 0,_class:void 0,_temp:void 0}),{setters:[function(t){i=t.inherits,s=t.createClass,n=t.classCallCheck,o=t.possibleConstructorReturn,c=t.getPrototypeOf},function(t){r=t.cclegacy,p=t._decorator,a=t.Vec3,d=t.Component},function(t){h=t.GameInfo}],execute:function(){r._RF.push({},"0f4bdiiJ1dC2p3JIEaczzOa","bg_ctr",void 0),f=p.ccclass,p.property,t("bg_ctr",(l=f("bg_ctr"),l(u=function(t){function e(){var t,i;n(this,e);for(var s=arguments.length,r=new Array(s),p=0;p<s;p++)r[p]=arguments[p];return(i=o(this,(t=c(e)).call.apply(t,[this].concat(r)))).z=0,i.speed=.06,i.is_die=!0,i}return i(e,t),s(e,[{key:"start",value:function(){this.z=this.node.position.z,this.speed<.2?this.speed=this.speed+h.lv/1e4:this.speed=.2}},{key:"update",value:function(t){0==this.is_die&&(0==this.z?this.node.position.z>-264.779?this.node.translate(new a(0,0,-this.speed)):this.node.position=new a(this.node.position.x,this.node.position.y,0):this.node.position.z>0?this.node.translate(new a(0,0,-this.speed)):this.node.position=new a(this.node.position.x,this.node.position.y,264.779))}}]),e}(d))||u)),r._RF.pop()}}}));

System.register("chunks:///bi_ctr.js",["./_virtual/_rollupPluginBabelHelpers.js","cc","./GameInfo.js","./bg_ctr.js"],(function(e,i){var t,n,o,r,a,s,c,d,l,u,p,h,f,_,v,y,g,m,b,C,w,T,x,A;return e({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_temp:void 0}),{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inherits,o=e.classCallCheck,r=e.possibleConstructorReturn,a=e.getPrototypeOf,s=e.initializerDefineProperty,c=e.assertThisInitialized,d=e.createClass},function(e){l=e.cclegacy,u=e._decorator,p=e.AudioClip,h=e.ColliderComponent,f=e.Node,_=e.Vec3,v=e.Component},function(e){y=e.GameInfo},function(e){g=e.bg_ctr}],execute:function(){l._RF.push({},"3c0d5/wisVAF70vY4/3/Izh","bi_ctr",void 0),x=u.ccclass,A=u.property,e("bi_ctr",(m=x("bi_ctr"),b=A(p),m((T=t((w=function(e){function i(){var e,t;o(this,i);for(var n=arguments.length,d=new Array(n),l=0;l<n;l++)d[l]=arguments[l];return t=r(this,(e=a(i)).call.apply(e,[this].concat(d))),s(t,"bi",T,c(t)),t.speed=.1,t.is_die=!0,t.collider=null,t}return n(i,e),d(i,[{key:"start",value:function(){this.speed<.2?this.speed=this.speed+y.lv/1e3:this.speed=.2,this.collider=this.node.getComponent(h),this.collider.on("onTriggerEnter",this.onCollision,this)}},{key:"onCollision",value:function(e){if("lan"==e.otherCollider.node.parent.name){this.node.destroy(),y.parent.addEnimy(),this.is_die=!0;var i=30*Math.random();i<10&&(i=10),"undefined"==typeof wx||y.wei.zhendong1(),y.xue>=i?y.xue-=i:(y.parent.node.getChildByName("bg").off(f.EventType.TOUCH_START),this.dieui()),y.parent.xue_p.fillRange=y.xue/100,y.parent.hurt.active=!0,setTimeout((function(){y.parent.hurt.active=!1}),1e3)}}},{key:"die",value:function(){this.node.destroy(),y.all_enimy-=1;var e=Math.floor(10*Math.random());e<3&&(e=3),y.bi=y.bi+e,"undefined"==typeof wx||(y.wei.setBi(y.bi),y.wei.res.appName||y.wei.updateUserBi(y.bi)),y.text_bi.string=y.bi+"",y.hit_ui.active=!0}},{key:"dieui",value:function(){y.btn_shoot.active=!1,"undefined"==typeof wx||(y.wei.getCha(),y.wei.getAd()),y.rig.setLinearVelocity(new _(0,0,0)),y.parent.node.getChildByName("bg").off(f.EventType.TOUCH_START,y.parent.up_1,this),y.rig.isKinematic=!0,y.parent.isAdd=!1,y.parent.enimy.children.forEach((function(e){1==y.map_index&&(e.getComponent(i).is_die=!0)})),1==y.map_index&&y.parent.map.children.forEach((function(e){e.getComponent(g).is_die=!0})),y.die_ui.active=!0}},{key:"waitAndOpen",value:function(){var e=this;setTimeout((function(){e.node.active=!0}),1e4)}},{key:"update",value:function(e){if(0==this.is_die)this.node.children[0].eulerAngles}}]),i}(v)).prototype,"bi",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=w))||C)),l._RF.pop()}}}));

System.register("chunks:///man_ctr.js",["./_virtual/_rollupPluginBabelHelpers.js","cc","./GameInfo.js"],(function(e,i){var t,n,o,a,r,s,l,c,d,h,u,p,f,_,m,v,y,g,C,b;return e({_dec:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_temp:void 0}),{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inherits,o=e.classCallCheck,a=e.possibleConstructorReturn,r=e.getPrototypeOf,s=e.initializerDefineProperty,l=e.assertThisInitialized,c=e.createClass},function(e){d=e.cclegacy,h=e._decorator,u=e.ColliderComponent,p=e.Vec3,f=e.Component},function(e){_=e.GameInfo}],execute:function(){d._RF.push({},"1294fW6qaNLqIjlhuigWte4","man_ctr",void 0),C=h.ccclass,b=h.property,e("man_ctr",(m=C("man_ctr"),m((g=t((y=function(e){function i(){var e,t;o(this,i);for(var n=arguments.length,c=new Array(n),d=0;d<n;d++)c[d]=arguments[d];return t=a(this,(e=r(i)).call.apply(e,[this].concat(c))),s(t,"type",g,l(t)),t.gotype=0,t.go_index=0,t.target=null,t.speed=.03,t.is_die=!0,t.life=0,t.max_life=0,t.one=0,t.collider=null,t}return n(i,e),c(i,[{key:"start",value:function(){this.life=Math.floor(4*Math.random())+Math.floor(_.lv/10),this.life<2&&(this.life=2),this.max_life=this.life,this.speed<.1?this.speed=this.speed+_.lv/1e4:this.speed=.1,this.collider=this.node.getComponent(u),this.collider.on("onCollisionStay",this.onCollision,this)}},{key:"onCollision",value:function(e){"map1"==e.otherCollider.node.name&&(this.is_die=!1)}},{key:"die",value:function(){this.node.active=!1,_.all_enimy-=1;var e=Math.floor(10*Math.random());e<3&&(e=3),_.bi=_.bi+e,"undefined"==typeof wx||(_.wei.setBi(_.bi),_.wei.res.appName||_.wei.updateUserBi(_.bi)),_.text_bi.string=_.bi+"",_.hit_ui.active=!0}},{key:"dieui",value:function(){_.btn_shoot.active=!1,"undefined"==typeof wx||(_.wei.getCha(),_.wei.getAd()),_.parent.isAdd=!1,_.parent.enimy.children.forEach((function(e){e.getComponent(i).is_die=!0})),_.die_ui.active=!0}},{key:"update",value:function(e){0==this.is_die||this.node.translate(new p(0,-.1,0))}},{key:"initTarget",value:function(){this.go_index=Math.floor(4*Math.random()),this.target=this.node.children[this.go_index]}}]),i}(f)).prototype,"type",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=y))||v)),d._RF.pop()}}}));

System.register("chunks:///player_ctr.js",["./_virtual/_rollupPluginBabelHelpers.js","cc","./GameInfo.js","./bi_ctr.js","./man_ctr.js"],(function(e,i){var n,t,o,r,a,l,s,d,p,h,u,c,y,_,g,m,f,w,C,v,b,x,z,T,k,N,A,B,D,E,U,O,R,L,S,j,H,P,V,I,q,F,G;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_dec6:void 0,_dec7:void 0,_dec8:void 0,_dec9:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_descriptor5:void 0,_descriptor6:void 0,_descriptor7:void 0,_descriptor8:void 0,_descriptor9:void 0,_temp:void 0}),{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inherits,o=e.classCallCheck,r=e.possibleConstructorReturn,a=e.getPrototypeOf,l=e.initializerDefineProperty,s=e.assertThisInitialized,d=e.createClass},function(e){p=e.cclegacy,h=e._decorator,u=e.CameraComponent,c=e.Node,y=e.AudioClip,_=e.AudioSourceComponent,g=e.Vec3,m=e.ColliderComponent,f=e.view,w=e.Component},function(e){C=e.GameInfo},function(e){v=e.bi_ctr},function(e){b=e.man_ctr}],execute:function(){p._RF.push({},"93ea7NNLNBEgrnu53YXqVd7","player_ctr",void 0),F=h.ccclass,G=h.property,e("player_ctr",(x=F("player_ctr"),z=G(u),T=G(c),k=G(c),N=G(c),A=G(c),B=G(c),D=G(y),E=G(y),x((R=n((O=function(e){function i(){var e,n;o(this,i);for(var t=arguments.length,d=new Array(t),p=0;p<t;p++)d[p]=arguments[p];return n=r(this,(e=a(i)).call.apply(e,[this].concat(d))),l(n,"type",R,s(n)),l(n,"cam",L,s(n)),l(n,"btn_up",S,s(n)),l(n,"btn_down",j,s(n)),l(n,"btn_left",H,s(n)),l(n,"btn_right",P,s(n)),l(n,"can",V,s(n)),l(n,"bi_a",I,s(n)),l(n,"zhandou",q,s(n)),n.rig=null,n.one=0,n.collider=null,n.pl_pos=null,n.pl_rot=null,n.parent=null,n.isDie=!1,n.isLeft=!1,n.isRight=!1,n.isUp=!1,n.isDown=!1,n.play=null,n}return t(i,e),d(i,[{key:"start",value:function(){this.btn_down.on(c.EventType.TOUCH_START,this.down_1,this),this.btn_down.on(c.EventType.TOUCH_END,this.down_2,this),this.btn_up.on(c.EventType.TOUCH_START,this.up_1,this),this.btn_up.on(c.EventType.TOUCH_END,this.up_2,this),this.btn_left.on(c.EventType.TOUCH_START,this.left_1,this),this.btn_left.on(c.EventType.TOUCH_END,this.left_2,this),this.btn_right.on(c.EventType.TOUCH_START,this.right_1,this),this.btn_right.on(c.EventType.TOUCH_END,this.right_2,this),this.play=this.node.parent.getComponent(_),0==C.index_ji&&(this.play.stop(),this.play.clip=this.zhandou,this.play.play()),this.pl_pos=new g(-574.107,13.881,545.672),this.collider=this.node.parent.getComponent(m),this.collider.on("onCollisionEnter",this.onCollision,this),this.collider.on("onTriggerEnter",this.onCollision1,this)}},{key:"onCollision1",value:function(e){"targets"==e.otherCollider.node.parent.name?(this.isDie=!0,console.log("撞了"),2!=C.map_index&&(C.parent.node.parent.getChildByName("die").position=e.otherCollider.node.position),C.renwu>1?(C.renwu=C.renwu-1,C.parent.die_enimy(e.otherCollider)):C.parent.initOk(),C.man_t.string=""+C.renwu,C.parent.node.getChildByName("wanmei").active=!0,setTimeout((function(){C.parent.node.getChildByName("wanmei").active=!1}),1e3),"undefined"==typeof wx||C.wei.zhendong()):"enimy"==e.otherCollider.node.parent.name?(this.isDie=!0,C.parent.enimy.children.forEach((function(e){1==C.map_index?e.getComponent(b).is_die=!0:2==C.map_index&&(e.getComponent(v).is_die=!0)})),C.parent.node.parent.getChildByName("die").position=e.otherCollider.node.position,C.renwu>1?(C.renwu=C.renwu-1,C.parent.die_enimy(e.otherCollider)):C.parent.initOk(),C.man_t.string=""+C.renwu,C.parent.node.getChildByName("wanmei").active=!0,setTimeout((function(){C.parent.node.getChildByName("wanmei").active=!1}),1e3),"undefined"==typeof wx||C.wei.zhendong()):console.log("撞啦:"+e.otherCollider.node.name)}},{key:"onCollision",value:function(e){"qiang"==e.otherCollider.node.parent.name||"ding"==e.otherCollider.node.name?"undefined"==typeof wx?console.log("边界"):(C.wei.showToast("边界请返航"),C.wei.zhendong()):"cao"==e.otherCollider.node.name||"shis"==e.otherCollider.node.parent.name||"shu"==e.otherCollider.node.parent.name||"map"==e.otherCollider.node.parent.name||"map"==e.otherCollider.node.name?(this.node.parent.position=this.pl_pos,this.die(e.selfCollider),"undefined"==typeof wx||(C.wei.showToast("飞机坠毁"),C.wei.zhendong1())):"enimy"==e.otherCollider.node.parent.name&&(this.isDie=!0,C.parent.enimy.children.forEach((function(e){1==C.map_index?e.getComponent(b).is_die=!0:2==C.map_index&&(e.getComponent(v).is_die=!0)})),C.parent.node.parent.getChildByName("die").position=e.otherCollider.node.position,C.renwu>1?(C.renwu=C.renwu-1,C.parent.die_enimy(e.otherCollider)):C.parent.initOk(),C.man_t.string=""+C.renwu,C.parent.node.getChildByName("wanmei").active=!0,setTimeout((function(){C.parent.node.getChildByName("wanmei").active=!1}),1e3),"undefined"==typeof wx||C.wei.zhendong())}},{key:"initOk",value:function(){"undefined"==typeof wx||C.wei.getCha(),C.ok_ui.active=!0,this.isDie=!0}},{key:"die",value:function(e){this.isDie=!0,C.parent.enimy.children.forEach((function(e){1==C.map_index?e.getComponent(b).is_die=!0:2==C.map_index&&(e.getComponent(v).is_die=!0)})),C.btn_shoot.active=!1,"undefined"==typeof wx||C.wei.getCha(),C.die_ui.active=!0}},{key:"update",value:function(e){if(C.index_ji>0){var i=this.node.getChildByName("weiyi").eulerAngles,n=this.node.getChildByName("jiang").eulerAngles;this.node.getChildByName("weiyi").eulerAngles=new g(i.x,i.y,i.z+3),this.node.getChildByName("jiang").eulerAngles=new g(n.x,n.y+3,n.z)}var t=this.node.parent.eulerAngles,o=0;this.isDie||(this.node.parent.translate(new g(0,0,.05)),this.cam&&(this.cam.node.parent.position=this.node.parent.position),this.parent.target.position&&(C.map_index,this.node.getChildByName("dir").lookAt(this.parent.target.position)),this.isDown&&this.node.parent.translate(new g(0,-.1,0)),this.isUp&&this.node.parent.translate(new g(0,.1,0)),this.isLeft&&(o+=.5,this.node.parent.eulerAngles=new g(t.x,t.y+o,t.z)),this.isRight&&(o-=.5,this.node.parent.eulerAngles=new g(t.x,t.y+o,t.z)))}},{key:"mouseDown",value:function(e,i){var n=i.getLocation(),t=i.getUILocation();this.prePos=n,this.can.getChildByName("biao").active=!0,this.can.getChildByName("biao").position=new g(t.x-f.getVisibleSize().x/2,t.y-f.getVisibleSize().y/2,0)}},{key:"mouseMove",value:function(e,i){if(this.node.parent){var n=i.getLocation(),t=i.getUILocation(),o=n.x-this.prePos.x,r=n.y-this.prePos.y,a=this.node.parent.eulerAngles,l=0,s=0;this.can.getChildByName("biao").position=new g(t.x-f.getVisibleSize().x/2,t.y-f.getVisibleSize().y/2,0),o<-2?s=-.3:o>2&&(s=.5),r<-2?l=-.3:r>2&&(l=.5),this.node.parent.eulerAngles.x>-22&&this.node.parent.eulerAngles.x<43?this.node.parent.eulerAngles=new g(a.x+l,a.y,a.z):this.node.parent.eulerAngles=new g(l>0?42:-21,a.y,a.z),this.node.parent.eulerAngles.y>-60&&this.node.parent.eulerAngles.y<60?this.node.parent.eulerAngles=new g(a.x,a.y+s,a.z):this.node.parent.eulerAngles=new g(a.x,s>0?59:-59,a.z),this.prePos=n}}},{key:"mouseEnd",value:function(e,i){if(this.node.parent){i.getLocation();this.can.getChildByName("biao").active=!1;this.node.parent.eulerAngles}}},{key:"down_1",value:function(){this.isDown=!0}},{key:"down_2",value:function(){this.isDown=!1}},{key:"up_1",value:function(){this.isUp=!0}},{key:"up_2",value:function(){this.isUp=!1}},{key:"left_1",value:function(){this.isLeft=!0}},{key:"left_2",value:function(){this.isLeft=!1}},{key:"right_1",value:function(){this.isRight=!0}},{key:"right_2",value:function(){this.isRight=!1}},{key:"onDestroy",value:function(){}}]),i}(w)).prototype,"type",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=n(O.prototype,"cam",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(O.prototype,"btn_up",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=n(O.prototype,"btn_down",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(O.prototype,"btn_left",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=n(O.prototype,"btn_right",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=n(O.prototype,"can",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=n(O.prototype,"bi_a",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=n(O.prototype,"zhandou",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=O))||U)),p._RF.pop()}}}));

System.register("chunks:///weixin.js",["./_virtual/_rollupPluginBabelHelpers.js","cc","./GameInfo.js","./bi_ctr.js","./man_ctr.js","./player_ctr.js"],(function(e,t){var n,i,o,a,s,r,u,c,d,h,l,f,g,p,w,y,_,m,v,b;return e({_dec:void 0,_class:void 0,_temp:void 0}),{setters:[function(e){n=e.inherits,i=e.createClass,o=e.classCallCheck,a=e.possibleConstructorReturn,s=e.getPrototypeOf},function(e){r=e.cclegacy,u=e._decorator,c=e.director,d=e.LabelComponent,h=e.loader,l=e.SpriteFrame,f=e.AnimationComponent,g=e.Component},function(e){p=e.GameInfo},function(e){w=e.bi_ctr},function(e){y=e.man_ctr},function(e){_=e.player_ctr}],execute:function(){r._RF.push({},"a6e6ePpuDFElLoM7em2KNYw","weixin",void 0),b=u.ccclass,u.property,e("weixin",(m=b("weixin"),m(v=function(e){function t(){var e,n;o(this,t);for(var i=arguments.length,r=new Array(i),u=0;u<i;u++)r[u]=arguments[u];return(n=a(this,(e=s(t)).call.apply(e,[this].concat(r)))).isWei=!1,n.res=null,n.interstitialAd=null,n.rewardedAd=null,n.login=null,n.login_ok=null,n.ti=null,n.ti1=null,n.shouyi_time=60,n.icon=null,n.nic=null,n.isSet=!0,n.isGet=!0,n.isAd=!0,n.isUpdate=!1,n.isInit=!0,n.parent=null,n.btn=null,n.feed=null,n.nickName="",n.btn_login=null,n.avatarUrl="",n.button=null,n.gender="",n.province="",n.city="",n.country="",n.jiangli=0,n.recorder=null,n.iconAd=null,n.portalAd=null,n.gridAd=null,n.bannerAd=null,n.bannerGameAd=null,n.path="",n}return n(t,e),i(t,[{key:"start",value:function(){this.initWeixin()}},{key:"initWeixin",value:function(){var e=this;"undefined"==typeof wx&&(this.isWei=!1),wx.cloud.init(),this.res=wx.getSystemInfoSync(),wx.createInterstitialAd&&(this.interstitialAd=wx.createInterstitialAd({adUnitId:"adunit-c1089bf18c64e388"})),this.rewardedAd=wx.createRewardedVideoAd({adUnitId:"adunit-8abc2903ec9594c6"}),this.rewardedAd.onError((function(t){p.canPlay=1,e.showToast("展示失败")})),this.rewardedAd.onClose((function(t){if(t&&t.isEnded)if(p.jili_touch+=1,e.setJiLiData("jili",p.jili_touch),0==p.jili_type)p.jili_type=0,e.showToast("奖励500金币"),p.bi=p.bi+500,"undefined"==typeof wx||(p.wei.setBi(p.bi),p.wei.res.appName||p.wei.updateUserBi(p.bi)),p.text_bi.string=""+p.bi;else if(1==p.jili_type)p.jili_type=0,p.wei.showToast("切换成功"),p.map_index=1,p.wei.save("map_index",p.map_index),e.parent.manageUI();else if(2==p.jili_type)p.jili_type=0,p.wei.showToast("切换成功"),p.map_index=2,p.wei.save("map_index",p.map_index),e.parent.manageUI();else if(3==p.jili_type)p.jili_type=0,e.showToast("即将开放");else if(4==p.jili_type)p.jili_type=0,p.bi=p.bi+2*p.jiang,"undefined"==typeof wx||(p.wei.setBi(p.bi),p.wei.res.appName||p.wei.updateUserBi(p.bi)),p.text_bi.string=""+p.bi,e.showToast("奖励已发放"),e.parent.btn_shuang.active=!1;else if(5==p.jili_type){p.jili_type=0,p.die_ui.active=!1,p.btn_shoot.active=!0,p.player.parent.active=!0;var n=p.player.getComponent(_);n.isDie=!1,e.parent.isAdd=!0,1==p.map_index?e.parent.enimy.children.forEach((function(e){e.getComponent(y).is_die=!1})):2==p.map_index&&(e.parent.enimy.children.forEach((function(e){e.getComponent(w).is_die=!1})),e.parent.hurt.active=!1),e.closeAd(),n.one=0,e.showToast("复活成功")}else 6==p.jili_type?(p.jili_type=0,p.bei+=1,e.showToast("增加1倍"),p.bei_t.string=p.bei+"倍",p.bi_bei_t.string="*"+5*p.bei+"倍"):7==p.jili_type&&(p.jili_type=0,p.bei>0?p.bei-=1:e.showToast("已是最小倍数"),p.bei_t.string=p.bei+"倍",p.bi_bei_t.string="*"+5*p.bei+"倍")})),this.rewardedAd.onLoad((function(){console.log("激励视频 广告加载成功"),p.canPlay=0}))}},{key:"update",value:function(){var e=this;this.isUpdate=!1;var t=wx.getUpdateManager();t.onCheckForUpdate((function(t){t.hasUpdate&&e.showToast("有新版本更新..")})),t.onUpdateReady((function(){wx.showModal({title:"更新提示",content:"新版本已经准备好，是否重启游戏？",success:function(e){e.confirm&&t.applyUpdate()}})})),t.onUpdateFailed((function(){e.showToast("新版本更新失败")}))}},{key:"getAd",value:function(){100*Math.random()<p.gaoshou_touch?this.gezi():this.ad()}},{key:"ad",value:function(){var e=this;0==p.showAd&&(this.bannerAd=wx.createBannerAd({adUnitId:"adunit-307d184bfadb2fb5",adIntervals:30,style:{left:this.res.windowWidth/2-160,top:this.res.windowHeight-120,width:320}}),this.bannerAd.onError((function(e){console.log(e),p.showAd=0})),this.bannerAd.onLoad((function(){e.bannerAd.show(),p.showAd=1})))}},{key:"gezi",value:function(){this.gridAd=wx.createGridAd({adUnitId:"adunit-8c105ff964b52c98",adTheme:"white",gridCount:5,style:{left:this.res.windowWidth/2-160,top:this.res.windowHeight-120,width:320,opacity:.8}}),this.gridAd.onError((function(e){console.log(e)})),this.gridAd.show()}},{key:"tuiad",value:function(){wx.createGameBanner&&(this.bannerGameAd=wx.createGameBanner({adUnitId:"PBgAArFzmYevi53g",style:{left:this.res.windowWidth/2-160,top:this.res.windowHeight-80}})),this.bannerGameAd&&this.bannerGameAd.show().catch((function(e){console.error(e)}))}},{key:"tui",value:function(){100*Math.random()<p.ad_gailu&&this.tui1()}},{key:"tui1",value:function(){var e=this;wx.createGameIcon&&(this.iconAd=null,0==p.v_index?this.iconAd=wx.createGameIcon({adUnitId:"PBgAArFzmYenDrYI",count:3,style:[{appNameHidden:!0,color:"#ffffff",size:32,borderWidth:1,borderColor:"#ffffff",left:this.res.windowWidth-60,top:this.res.windowHeight/3+30},{appNameHidden:!0,color:"#ffffff",size:32,borderWidth:1,borderColor:"#ffffff",left:this.res.windowWidth-60,top:this.res.windowHeight/3+75},{appNameHidden:!0,color:"#ffffff",size:32,borderWidth:1,borderColor:"#ffffff",left:this.res.windowWidth-60,top:this.res.windowHeight/3+120}]}):1==p.v_index?this.iconAd=wx.createGameIcon({adUnitId:"PBgAArFzmYenDrYI",count:3,style:[{appNameHidden:!0,color:"#ffffff",size:32,borderWidth:1,borderColor:"#ffffff",left:50,top:this.res.windowHeight/2-20},{appNameHidden:!0,color:"#ffffff",size:32,borderWidth:1,borderColor:"#ffffff",left:90,top:this.res.windowHeight/2-20},{appNameHidden:!0,color:"#ffffff",size:32,borderWidth:1,borderColor:"#ffffff",left:130,top:this.res.windowHeight/2-20}]}):2==p.v_index?this.iconAd=wx.createGameIcon({adUnitId:"PBgAArFzmYenDrYI",count:3,style:[{appNameHidden:!0,color:"#ffffff",size:32,borderWidth:1,borderColor:"#ffffff",left:this.res.windowWidth-140,top:this.res.windowHeight/4},{appNameHidden:!0,color:"#ffffff",size:32,borderWidth:1,borderColor:"#ffffff",left:this.res.windowWidth-140,top:this.res.windowHeight/4+40},{appNameHidden:!0,color:"#ffffff",size:32,borderWidth:1,borderColor:"#ffffff",left:this.res.windowWidth-140,top:this.res.windowHeight/4+80}]}):3==p.v_index&&(this.iconAd=wx.createGameIcon({adUnitId:"PBgAArFzmYenDrYI",count:9,style:[{appNameHidden:!0,color:"#ffffff",size:32,borderWidth:1,borderColor:"#ffffff",left:20,top:this.res.windowHeight-105},{appNameHidden:!0,color:"#ffffff",size:32,borderWidth:1,borderColor:"#ffffff",left:20,top:this.res.windowHeight-145},{appNameHidden:!0,color:"#ffffff",size:32,borderWidth:1,borderColor:"#ffffff",left:20,top:this.res.windowHeight-185},{appNameHidden:!0,color:"#ffffff",size:32,borderWidth:1,borderColor:"#ffffff",left:60,top:this.res.windowHeight-105},{appNameHidden:!0,color:"#ffffff",size:32,borderWidth:1,borderColor:"#ffffff",left:60,top:this.res.windowHeight-145},{appNameHidden:!0,color:"#ffffff",size:32,borderWidth:1,borderColor:"#ffffff",left:60,top:this.res.windowHeight-185},{appNameHidden:!0,color:"#ffffff",size:32,borderWidth:1,borderColor:"#ffffff",left:this.res.windowWidth-60,top:60},{appNameHidden:!0,color:"#ffffff",size:32,borderWidth:1,borderColor:"#ffffff",left:this.res.windowWidth-60,top:100},{appNameHidden:!0,color:"#ffffff",size:32,borderWidth:1,borderColor:"#ffffff",left:this.res.windowWidth-60,top:140}]}))),this.iconAd&&this.iconAd.load().then((function(){e.iconAd.show()})).catch((function(e){console.error(e)}))}},{key:"closeAd",value:function(){p.showAd=0,this.bannerAd&&(this.bannerAd.hide(),this.bannerAd.destroy()),this.bannerGameAd&&(this.bannerGameAd.hide(),this.bannerGameAd.destroy()),this.gridAd&&(this.gridAd.hide(),this.gridAd.destroy()),this.portalAd&&this.portalAd.destroy()}},{key:"closeIcon",value:function(){this.iconAd&&(this.iconAd.hide(),this.iconAd.destroy())}},{key:"getCha",value:function(){this.chaad()}},{key:"chaad",value:function(){this.interstitialAd&&this.interstitialAd.show().catch((function(e){console.error(e)}))}},{key:"cha",value:function(){var e=this;wx.createGamePortal&&(this.portalAd=wx.createGamePortal({adUnitId:"PBgAArFzmYeoy8dc"})),this.portalAd&&this.portalAd.load().then((function(){e.portalAd.show()})).catch((function(e){console.error(e)}))}},{key:"getJiLi",value:function(e){p.jili_type=0,this.jiangli=e,this.showJiLi()}},{key:"getJiLi1",value:function(){this.showJiLi()}},{key:"showJiLi",value:function(){var e=this;this.rewardedAd.show().catch((function(t){e.rewardedAd.load().then((function(){return e.rewardedAd.show()})).catch((function(t){e.showToast("展示失败"),p.canPlay=1}))}))}},{key:"getUserInfo",value:function(){var e=this;wx.getUserInfo({openIdList:["selfOpenId"],success:function(t){var n=t.userInfo;e.nickName=n.nickName,e.avatarUrl=n.avatarUrl,e.gender=n.gender,e.province=n.province,e.city=n.city,e.country=n.country,p.nickName=e.nickName,p.avatarUrl=e.avatarUrl,p.deng.active=!1,wx.setStorageSync("nickName",e.nickName),wx.setStorageSync("avatarUrl",e.avatarUrl),wx.setStorageSync("gender",e.gender),wx.setStorageSync("province",e.province),wx.setStorageSync("city",e.city),wx.setStorageSync("country",e.country),e.nic.string=e.nickName,e.createImage(e.avatarUrl),p.isLogin=!0,1==p.view&&e.parent.show(),e.getUser(p.nickName)},fail:function(t){p.deng.active=!0,p.isLogin=!1,e.parent.show()}})}},{key:"getIsLogin",value:function(){wx.getUserInfo({openIdList:["selfOpenId"],success:function(e){var t=e.userInfo;t.nickName,t.avatarUrl,t.gender,t.province,t.city,t.country;p.view=1,c.loadScene("load.scene")},fail:function(e){p.view=0,c.loadScene("load.scene")}})}},{key:"onShow",value:function(){wx.onShow((function(){}))}},{key:"onHide",value:function(){var e=this;wx.onHide((function(){p.dui&&(e.parent.pl.rigidBody.clearForces(),e.parent.pl.speedZ=0,e.parent.pl.t.clearAll(e),p.dui.stopSync(),p.dui.sendClient("over"),p.dui.dissRoom(),p.dui.disRoom(),e.parent.ZuoZhanOver())}))}},{key:"getBi",value:function(){var e=wx.getStorageSync("bi");if(""==wx.getStorageSync("chu")){wx.setStorageSync("chu",1),wx.setStorageSync("bi",4e3),wx.setStorageSync("you",0),wx.setStorageSync("vip",0),wx.setStorageSync("yao",0),wx.setStorageSync("time_f",0),wx.setStorageSync("version","0"),wx.setStorageSync("isYao",0),wx.setStorageSync("level",1),wx.setStorageSync("lv",1),wx.setStorageSync("jingyan",0),wx.setStorageSync("openid",""),wx.setStorageSync("gong",0),wx.setStorageSync("day",0),wx.setStorageSync("tiji",0),wx.setStorageSync("qieid",0),wx.setStorageSync("renwu",0),wx.setStorageSync("luzhi",1);for(var t=0;t<10;t++){""==wx.getStorageSync("suo"+t)&&(t>0?wx.setStorageSync("suo"+t,0):wx.setStorageSync("suo"+t,1))}for(var n=0;n<14;n++)wx.setStorageSync("car"+n,0);for(var i=0;i<3;i++)wx.setStorageSync("plane"+i,0);e=1e3}return p.bi=Math.floor(e),p.text_bi.string=Math.floor(e),p.bi}},{key:"setBi",value:function(e){wx.setStorageSync("bi",Math.floor(e))}},{key:"setCloud",value:function(e){var t=this;wx.setUserCloudStorage({KVDataList:[e],success:function(e){t.showToast("打榜成功")},fail:function(e){console.log("-----fail:"+JSON.stringify(e)),t.showDialog("保存分数到排行榜失败，可能你没有登录微信账号哦，快去登陆和全国玩家争榜吧！！")},complete:function(e){console.log("-----complete:"+JSON.stringify(e))}})}},{key:"initUser",value:function(e,t,n,i,o,a,s,r){""==p.userData&&wx.cloud.callFunction({name:"user",data:{type:0,nickName:e,avatarUrl:t,gender:n,province:i,city:o,bi:s,yaoId:r}}).then((function(e){console.log("创建用户"),console.log(e.result.data)}))}},{key:"getUser",value:function(e){var t=this;wx.cloud.callFunction({name:"user",data:{type:1,nickName:e}}).then((function(e){var n=e.result.data;if(n.length)p.userData=n[0],p.win=n[0].win,p.ping=n[0].ping,p.yao=n[0].yao,p.yao_ma=n[0].yaoId,p.bi=n[0].bi,wx.setStorageSync("bi",p.bi),wx.setStorageSync("yao_ma",p.yao_ma),wx.setStorageSync("room_id",p.room_id),0==p.view&&(p.text_bi.text=p.bi),t.initUserChu(t.nickName,p.avatarUrl,Math.floor(p.bi)),console.log("获取用户"),console.log(n);else{for(var i="",o=0;o<12;o++)i+=Math.floor(9*Math.random());p.yao_ma=i,wx.setStorageSync("yao_ma",p.yao_ma),p.view,t.initUser(t.nickName,t.avatarUrl,t.gender,t.province,t.city,t.country,Math.floor(p.bi),i),console.log("新客到来")}}))}},{key:"getJiLiData",value:function(){wx.cloud.callFunction({name:"user",data:{type:8,name:"激励广告"}}).then((function(e){var t=e.result.data;if(t.length>0){p.jili_touch=t[0].jili,p.level_touch=t[0].level,p.tansuo_touch=t[0].tansuo,p.shijian_touch=t[0].shijian,p.renwu_touch=t[0].renwu,p.jiaocheng_touch=t[0].jiaocheng,p.pipei_touch=t[0].pipei,p.duizhan_touch=t[0].duizhan,p.pk_touch=t[0].pk,p.pk_create_touch=t[0].pkcreate,p.pk_join_touch=t[0].pkjoin,p.pk_ok=t[0].pkok,p.hun_touch=t[0].hun,p.hun_create_touch=t[0].huncreate,p.hun_join_touch=t[0].hunjoin,p.hun_ok=t[0].hunok,p.ok_touch=t[0].ok,p.fail_touch=t[0].fail,p.yao_touch=t[0].yao,p.yao_pk_touch=t[0].yaopk,p.fei_touch=t[0].fei,p.car_touch=t[0].car,p.tiaozhan_touch=t[0].tiaozhan,p.dazuozhan_touch=t[0].dazuozhan,p.dazuozhan_no_touch=t[0].dazuozhanno,p.dazuozhan_ok_touch=t[0].dazuozhanok,p.xiaozhen_touch=t[0].xiaozhen,p.gaoshou_touch=t[0].gaoshou,p.daren_touch=t[0].daren,p.fushang_touch=t[0].fushang,p.fuhao_touch=t[0].fuhao,p.caizhu_touch=t[0].caizhu,p.tuhao_touch=t[0].tuhao,p.ad_gailu=t[0].ad_gailu,p.tong_data[0]=t[0].jili,p.tong_data[1]=t[0].level,p.tong_data[2]=t[0].tansuo,p.tong_data[3]=t[0].shijian,p.tong_data[4]=t[0].renwu,p.tong_data[5]=t[0].jiaocheng,p.tong_data[6]=t[0].pipei,p.tong_data[7]=t[0].duizhan,p.tong_data[8]=t[0].pk,p.tong_data[9]=t[0].pkcreate,p.tong_data[10]=t[0].pkjoin,p.tong_data[11]=t[0].pkok,p.tong_data[12]=t[0].hun,p.tong_data[13]=t[0].huncreate,p.tong_data[14]=t[0].hunjoin,p.tong_data[15]=t[0].hunok,p.tong_data[16]=t[0].ok,p.tong_data[17]=t[0].fail,p.tong_data[18]=t[0].yao,p.tong_data[19]=t[0].yaopk,p.tong_data[20]=t[0].fei,p.tong_data[21]=t[0].car,p.tong_data[22]=t[0].tiaozhan,p.tong_data[23]=t[0].dazuozhan,p.tong_data[24]=t[0].dazuozhanno,p.tong_data[25]=t[0].dazuozhanok,p.tong_data[26]=t[0].xiaozhen,p.tong_data[27]=t[0].gaoshou,p.tong_data[28]=t[0].daren,p.tong_data[29]=t[0].fushang,p.tong_data[30]=t[0].fuhao,p.tong_data[31]=t[0].caizhu,p.tong_data[32]=t[0].daren,p.tong_data[33]=t[0].ad_gailu;var n=[];if(n.push({tong:p.tong[0]+":"+t[0].jili}),n.push({tong:p.tong[1]+":"+t[0].level}),n.push({tong:p.tong[2]+":"+t[0].tansuo}),n.push({tong:p.tong[3]+":"+t[0].shijian}),n.push({tong:p.tong[4]+":"+t[0].renwu}),n.push({tong:p.tong[5]+":"+t[0].jiaocheng}),n.push({tong:p.tong[6]+":"+t[0].pipei}),n.push({tong:p.tong[7]+":"+t[0].duizhan}),n.push({tong:p.tong[8]+":"+t[0].pk}),n.push({tong:p.tong[9]+":"+t[0].pkcreate}),n.push({tong:p.tong[10]+":"+t[0].pkjoin}),n.push({tong:p.tong[11]+":"+t[0].pkok}),n.push({tong:p.tong[12]+":"+t[0].hun}),n.push({tong:p.tong[13]+":"+t[0].huncreate}),n.push({tong:p.tong[14]+":"+t[0].hunjoin}),n.push({tong:p.tong[15]+":"+t[0].hunok}),n.push({tong:p.tong[16]+":"+t[0].ok}),n.push({tong:p.tong[17]+":"+t[0].fail}),n.push({tong:p.tong[18]+":"+t[0].yao}),n.push({tong:p.tong[19]+":"+t[0].yaopk}),n.push({tong:p.tong[20]+":"+t[0].fei}),n.push({tong:p.tong[21]+":"+t[0].car}),n.push({tong:p.tong[22]+":"+t[0].tiaozhan}),n.push({tong:p.tong[23]+":"+t[0].dazuozhan}),n.push({tong:p.tong[24]+":"+t[0].dazuozhanno}),n.push({tong:p.tong[25]+":"+t[0].dazuozhanok}),n.push({tong:p.tong[26]+":"+t[0].xiaozhen}),n.push({tong:p.tong[27]+":"+t[0].gaoshou}),n.push({tong:p.tong[28]+":"+t[0].daren}),n.push({tong:p.tong[29]+":"+t[0].fushang}),n.push({tong:p.tong[30]+":"+t[0].fuhao}),n.push({tong:p.tong[31]+":"+t[0].caizhu}),n.push({tong:p.tong[32]+":"+t[0].tuhao}),n.push({tong:p.tong[33]+":"+t[0].ad_gailu}),6==p.view){p.tong_view.children;for(var i=0;i<p.tong_view.children.length;i++){p.tong_view.children[i].getComponent(d).string=n[i].tong}}}}))}},{key:"resetJiLi",value:function(){var e=this;wx.cloud.callFunction({name:"user",data:{type:9,name:"激励广告"}}).then((function(t){console.log("重置"),e.showToast("重置成功"),e.getJiLiData()}))}},{key:"setJiLiData",value:function(e,t){var n=this;wx.cloud.callFunction({name:"user",data:{type:7,name:"激励广告",func:e,jili:t}}).then((function(i){console.log(e+":"+t),n.getJiLiData()}))}},{key:"updateYaoNum",value:function(){wx.cloud.callFunction({name:"user",data:{type:4,yaoId:p.yao_ma,yao:p.yao+1}}).then((function(e){}))}},{key:"updateYaoNum1",value:function(e){var t=this;wx.cloud.callFunction({name:"user",data:{type:4,yaoId:e,yao:p.yao+1}}).then((function(e){e.result.data.length>0&&(p.bi=p.bi+500,t.setBi(p.bi),t.save("isYao",1),p.text_bi.text=p.bi,t.showDialog("邀请码有效,已奖励500金币"))}))}},{key:"initUserChu",value:function(e,t,n){wx.cloud.callFunction({name:"user",data:{type:2,nickName:e,avatarUrl:t,bi:n}}).then((function(e){e.result.data}))}},{key:"setUserDate",value:function(e,t,n,i){wx.cloud.callFunction({name:"user",data:{type:3,nickName:e,score:p.renwu,win:p.win+t,ping:p.ping+n,bi:i}}).then((function(e){}))}},{key:"updateUserBi",value:function(e){wx.cloud.callFunction({name:"user",data:{type:5,nickName:p.nickName,bi:e}}).then((function(e){}))}},{key:"createPai",value:function(e){var t=this;wx.cloud.callFunction({name:"pai",data:{type:0,icon:p.avatarUrl,nickName:p.nickName,mubiao:p.renwu,bang:e}}).then((function(n){n.result.data;t.save("renwu",p.renwu),t.showToast("打榜成功"),t.getPaiDate(e)}))}},{key:"getPaiDate",value:function(e){var t=this;wx.cloud.callFunction({name:"pai",data:{type:1,bang:e}}).then((function(e){var n=e.result.data;if(n.length>0){t.parent.data1=[];for(var i=0;i<n.length;i++){var o=n[i];t.parent.data1.push({sai_icon:o.icon,sai_nic:o.nickName,sai_mubiao:o.mubiao,sai_pai:"第"+(i+1)+"名"})}}}))}},{key:"getPaiUser",value:function(e){var t=this;wx.cloud.callFunction({name:"pai",data:{type:2,nickName:p.nickName}}).then((function(n){var i=t.read("renwu");n.result.data.length?p.renwu>i?t.updatePai(e):t.getPaiDate(e):t.createPai(e)}))}},{key:"updatePai",value:function(e){var t=this;wx.cloud.callFunction({name:"pai",data:{type:3,nickName:p.nickName,bang:e,mubiao:p.renwu}}).then((function(n){t.save("renwu",p.renwu),t.showToast("打榜成功"),t.getPaiDate(e)}))}},{key:"initDingYue",value:function(){}},{key:"getDing",value:function(){var e=this;wx.request({url:p.url_main+"openid/dingyue.php",success:function(t){e.showToast("发送订阅")}})}},{key:"initOpen",value:function(){var e=wx.getLaunchOptionsSync();if("1036"==e.referrerInfo.appId)""!=e.query.roomID&&(p.joinRoomId=e.query.roomID,this.showDialog("你有新的联机对战邀请，快进入联机对战模式开始游戏吧，好友PK或4人混战等模式都可以触发到对战匹配！长时间不加入房间将被释放！")),""!=e.query.ma&&0==this.read("isYao")&&(p.bi=p.bi+500,p.text_bi.text=p.bi,this.setBi(p.bi),this.save("isYao",1),this.showDialog("通过邀请加入游戏，已奖励500金币"),this.updateYaoNum());else if("1035"==e.referrerInfo.appId){0==this.read("gong")&&(p.bi=p.bi+5e3,this.setBi(p.bi),this.save("gong",1),p.text_bi.text=p.bi,this.showDialog("通过公众号菜单进入游戏，已奖励5000金币"))}}},{key:"initPai",value:function(e){wx.getOpenDataContext().postMessage({type:e})}},{key:"initLogin",value:function(){var e=this;this.btn_login=wx.createUserInfoButton({type:"text",text:"微信登录",style:{left:this.res.windowWidth/2-60,top:this.res.windowHeight/2+60,width:120,height:40,lineHeight:40,backgroundColor:"#01C24E",color:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4}}),this.btn_login.onTap((function(t){wx.getUserInfo({openIdList:["selfOpenId"],success:function(t){p.view=1,c.loadScene("load.scene"),e.btn_login.hide()},fail:function(e){}})}))}},{key:"closeLogin",value:function(){this.btn_login.hide()}},{key:"save",value:function(e,t){wx.setStorageSync(e,Math.round(t))}},{key:"read",value:function(e){return Math.round(wx.getStorageSync(e))}},{key:"dologin",value:function(){wx.login({success:function(e){e.code?wx.request({url:p.url_main+"openid/openid.php",data:{code:e.code},success:function(e){p.openId=e.data.openid,wx.setStorageSync("openid",e.data.openid),console.log(e.data)}}):console.log("登录失败！"+e.errMsg)}})}},{key:"createImage",value:function(e){var t=this;h.release(e),console.log("头像加载"),h.load({url:e,type:"png"},(function(e,n){if(e)console.log(e);else{var i=new l;i.texture=n._texture,t.icon.spriteFrame=i,console.log("头像加载成功")}}))}},{key:"showToast",value:function(e){wx.showToast({title:e,icon:"success",duration:800})}},{key:"showDialog",value:function(e){wx.showModal({title:"温馨提示",content:e,success:function(e){e.confirm}})}},{key:"showDialog1",value:function(e){var t=this;wx.showModal({title:"紧急匹配，人数不足就差你",content:e,success:function(e){e.confirm&&t.shareAppMessage1("紧急匹配邀请函！和我一起全民大作战吧","https://mmocgame.qpic.cn/wechatgame/fz45DryicnHmg7xW0BnhBvaAZfURicNJFJUqHyLiaLPJMIHE1BFGsuXPfRveicjRr1Og/0","jyp_xvHCQ4uMP5SlMNOl1Q","ma="+p.yao_ma)}})}},{key:"showBuzu",value:function(e,t){wx.showModal({title:"警告！血量过低",content:e,success:function(e){e.confirm&&t.initMan()}})}},{key:"zeng",value:function(){wx.showModal({title:"温馨提示",content:"欢迎回来，赠送你500金币，每天回来都有哦！",success:function(e){e.confirm}});var e=wx.getStorageSync("bi");e+=500,this.setBi(e)}},{key:"updateShare",value:function(){wx.updateShareMenu({withShareTicket:!1,success:{}})}},{key:"showShare",value:function(){wx.showShareMenu({withShareTicket:!1,menus:["shareAppMessage","shareTimeline"]})}},{key:"shareAppMessage",value:function(e,t,n){wx.shareAppMessage({title:e,imageUrl:t,imageUrlId:n})}},{key:"shareAppMessage1",value:function(e,t,n,i){wx.shareAppMessage({title:e,imageUrl:t,imageUrlId:n,query:i})}},{key:"onShareAppMessage",value:function(e,t,n){wx.onShareAppMessage((function(){return{title:e,imageUrl:t,imageUrlId:n}}))}},{key:"onShareAppMessage1",value:function(e,t,n,i){wx.onShareAppMessage((function(){return{title:e,imageUrl:t,imageUrlId:n,query:i}}))}},{key:"getShareInfo",value:function(e){wx.getShareInfo({shareTicket:e,success:function(){}})}},{key:"zhendong",value:function(){wx.vibrateShort({})}},{key:"zhendong1",value:function(){wx.vibrateLong({})}},{key:"initYouxiQuan",value:function(){this.btn=wx.createGameClubButton({icon:"green",style:{left:30,top:this.res.windowHeight/3-50,width:40,height:40}})}},{key:"disQuan",value:function(){this.btn&&this.btn.hide()}},{key:"fankui",value:function(){this.feed=wx.createFeedbackButton({type:"text",text:"反馈",style:{left:30,top:this.res.windowHeight/3+10,width:50,height:40,lineHeight:40,backgroundColor:"#ff0000",color:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4}})}},{key:"initRes",value:function(e){var t=this;wx.loadSubpackage({name:"audio",success:function(n){console.log("success"),e.jindu.text="已下载完成:1/3";wx.loadSubpackage({name:"assets",success:function(n){console.log("success"),e.jindu.text="已下载完成:2/3";wx.loadSubpackage({name:"terrain",success:function(n){console.log("success"),e.jindu.text="已下载完成:3/3",setTimeout((function(){t.getIsLogin()}),3e3)},fail:function(e){console.log("fail")}})},fail:function(e){console.log("fail")}})},fail:function(e){console.log("fail")}})}},{key:"huifang",value:function(){var e=this;this.recorder=wx.getGameRecorder(),console.log("是否支持录制游戏画面",this.recorder.isFrameSupported()),this.recorder.isFrameSupported()?(this.recorder.start(),this.recorder.on("start",(function(){e.showToast("回放录制"),p.share_state=1,e.ti=setTimeout((function(){e.update_t()}),1e3)})),this.recorder.on("stop",(function(t){console.log("对局回放时长: ".concat(t.duration)),e.parent.lu_time.string="分享录屏",p.share_state=2,e.showToast("完成录制")}))):this.showToast("不支持录制")}},{key:"update_t",value:function(){var e=this;clearTimeout(this.ti),p.lu_m<59?p.lu_m+=1:(p.lu_m=0,p.lu_f+=1);var t="",n="";t=p.lu_f<10?"0"+p.lu_f:""+p.lu_f,n=p.lu_m<10?"0"+p.lu_m:""+p.lu_m,this.parent.lu_time&&(this.parent.lu_time.string=t+":"+n),this.ti=setTimeout((function(){1==p.share_state&&e.update_t()}),1e3)}},{key:"shouyi",value:function(){var e=this;if(clearTimeout(this.ti1),this.shouyi_time>0)this.shouyi_time-=1;else{this.shouyi_time=60;var t=Math.floor(Math.random()*p.lv*10);t<4&&(t=4),p.bi=p.bi+t,p.wei.setBi(p.bi),p.wei.res.appName||p.wei.updateUserBi(p.bi),p.wei.showToast("在线收益"+t+"金币"),p.text_bi&&(p.text_bi.string=""+p.bi)}this.parent.shouyi_t.string=this.shouyi_time+"s后产生在线收益",this.parent.shouyi_t.getComponent(f).play(),this.ti1=setTimeout((function(){1==p.shouyi_state&&e.shouyi()}),1e3)}},{key:"stophuifang",value:function(){this.recorder.stop()}},{key:"shareVideo",value:function(){this.createShareHuiFang(),this.parent.lu_t.string="开始录屏",this.parent.lu_time.string="未开始",this.parent.lu.active=!1,p.share_state=0,p.lu_f=0,p.lu_m=0}},{key:"createShareHuiFang",value:function(){var e=this;p.caizhu_touch+=1,p.wei.setJiLiData("caizhu",p.caizhu_touch),this.button=wx.createGameRecorderShareButton({style:{left:this.res.windowWidth-130,top:this.res.windowHeight/3-50,width:100,height:50,color:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4,iconMarginRight:16,paddingLeft:1,paddingRight:30},text:"回放分享",share:{timeRange:[[0,6e4]],button:{template:"default.enter"}}}),this.button.show(),this.button.onTap((function(t){e.hideshare(),e.showToast("取消分享"),e.parent.lu.active=!0,console.log("错误码：".concat(t.error.code,"，错误信息：").concat(t.error.message))}))}},{key:"hideshare",value:function(){this.button&&this.button.hide()}},{key:"disfankui",value:function(){this.feed&&this.feed.hide()}}]),t}(g))||v)),r._RF.pop()}}}));

System.register("chunks:///camera_ctr.js",["./_virtual/_rollupPluginBabelHelpers.js","cc"],(function(i,t){var e,r,o,n,c,s,a,l,u,p,d,f,h,_,v,y,m,j,b;return i({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_temp:void 0}),{setters:[function(i){e=i.applyDecoratedDescriptor,r=i.inherits,o=i.classCallCheck,n=i.possibleConstructorReturn,c=i.getPrototypeOf,s=i.initializerDefineProperty,a=i.assertThisInitialized,l=i.createClass},function(i){u=i.cclegacy,p=i._decorator,d=i.Node,f=i.Component}],execute:function(){u._RF.push({},"3b766vul+lFS70Yq1qAFCAB","camera_ctr",void 0),j=p.ccclass,b=p.property,i("camera_ctr",(h=j("camera_ctr"),_=b(d),h((m=e((y=function(i){function t(){var i,e;o(this,t);for(var r=arguments.length,l=new Array(r),u=0;u<r;u++)l[u]=arguments[u];return e=n(this,(i=c(t)).call.apply(i,[this].concat(l))),s(e,"feiji",m,a(e)),e}return r(t,i),l(t,[{key:"start",value:function(){this.node.position=this.feiji.position}},{key:"update",value:function(i){this.node.position=this.feiji.position,this.node.rotation=this.feiji.rotation}}]),t}(f)).prototype,"feiji",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=y))||v)),u._RF.pop()}}}));

System.register("chunks:///game_ctr.js",["./_virtual/_rollupPluginBabelHelpers.js","cc","./GameInfo.js","./bi_ctr.js","./man_ctr.js","./player_ctr.js"],(function(i,e){var t,n,a,o,l,r,s,u,h,d,c,p,m,_,y,g,f,v,b,w,C,x,z,S,N,j,k,B,A,O,M,T,D,E,L,R,J,P,H,q,I,U,V,X,F,Z,G,W,K,Q,Y,$,ii,ei,ti,ni,ai,oi,li,ri,si,ui,hi,di,ci,pi,mi,_i,yi,gi,fi,vi,bi,wi,Ci,xi,zi,Si,Ni,ji,ki,Bi,Ai,Oi,Mi;return i({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_dec6:void 0,_dec7:void 0,_dec8:void 0,_dec9:void 0,_dec10:void 0,_dec11:void 0,_dec12:void 0,_dec13:void 0,_dec14:void 0,_dec15:void 0,_dec16:void 0,_dec17:void 0,_dec18:void 0,_dec19:void 0,_dec20:void 0,_dec21:void 0,_dec22:void 0,_dec23:void 0,_dec24:void 0,_dec25:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_descriptor5:void 0,_descriptor6:void 0,_descriptor7:void 0,_descriptor8:void 0,_descriptor9:void 0,_descriptor10:void 0,_descriptor11:void 0,_descriptor12:void 0,_descriptor13:void 0,_descriptor14:void 0,_descriptor15:void 0,_descriptor16:void 0,_descriptor17:void 0,_descriptor18:void 0,_descriptor19:void 0,_descriptor20:void 0,_descriptor21:void 0,_descriptor22:void 0,_descriptor23:void 0,_descriptor24:void 0,_temp:void 0}),{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inherits,a=i.classCallCheck,o=i.possibleConstructorReturn,l=i.getPrototypeOf,r=i.initializerDefineProperty,s=i.assertThisInitialized,u=i.createClass},function(i){h=i.cclegacy,d=i._decorator,c=i.LabelComponent,p=i.SpriteComponent,m=i.Node,_=i.CameraComponent,y=i.AudioClip,g=i.ParticleSystemComponent,f=i.profiler,v=i.UITransformComponent,b=i.AudioSourceComponent,w=i.systemEvent,C=i.SystemEventType,x=i.Vec3,z=i.instantiate,S=i.director,N=i.geometry,j=i.view,k=i.PhysicsSystem,B=i.Component},function(i){A=i.GameInfo},function(i){O=i.bi_ctr},function(i){M=i.man_ctr},function(i){T=i.player_ctr}],execute:function(){h._RF.push({},"34666imPHVB1bEazxIlritA","game_ctr",void 0),Oi=d.ccclass,Mi=d.property,i("game_ctr",(D=Oi("game_ctr"),E=Mi(c),L=Mi(p),R=Mi(c),J=Mi(c),P=Mi(p),H=Mi(p),q=Mi(m),I=Mi(_),U=Mi(y),V=Mi(y),X=Mi(y),F=Mi(g),Z=Mi(c),G=Mi(c),W=Mi(c),K=Mi(c),Q=Mi(c),Y=Mi(m),$=Mi(m),ii=Mi(m),ei=Mi(m),ti=Mi(m),ni=Mi(m),ai=Mi(y),D((ri=t((li=function(i){function e(){var i,t;a(this,e);for(var n=arguments.length,u=new Array(n),h=0;h<n;h++)u[h]=arguments[h];return t=o(this,(i=l(e)).call.apply(i,[this].concat(u))),r(t,"bi",ri,s(t)),r(t,"user_icon",si,s(t)),r(t,"nicname",ui,s(t)),r(t,"lv_t",hi,s(t)),r(t,"xue_p",di,s(t)),r(t,"jingyan_p",ci,s(t)),r(t,"player",pi,s(t)),r(t,"cam",mi,s(t)),r(t,"fire",_i,s(t)),r(t,"dian",yi,s(t)),r(t,"si",gi,s(t)),r(t,"bao",fi,s(t)),r(t,"time",vi,s(t)),r(t,"bei",bi,s(t)),r(t,"bi_bei",wi,s(t)),r(t,"lu_t",Ci,s(t)),r(t,"lu_time",xi,s(t)),r(t,"lu",zi,s(t)),r(t,"enimy",Si,s(t)),r(t,"targets",Ni,s(t)),r(t,"btn_shuang",ji,s(t)),r(t,"xue_enimy",ki,s(t)),r(t,"hurt",Bi,s(t)),r(t,"touch",Ai,s(t)),t.play=null,t.t1=null,t.sc=null,t.aim=null,t.pl=null,t.init_pos=null,t.pl_pos=null,t.pl_rot=null,t.isOver=!1,t.index=0,t.daodan=null,t.isAdd=!0,t.enimys=0,t.eni_s=0,t.all_enimys=0,t.target=null,t.h=0,t.f=0,t.m=0,t.o=0,t}return n(e,i),u(e,[{key:"start",value:function(){var i=this;f.hideStats(),this.aim=this.node.getChildByName("aim"),this.sc=this.node.getComponent(v),this.play=this.node.getComponent(b);for(var e=0;e<this.player.children.length;e++){var t=this.player.children[e];e==A.index_ji?(t.active=!0,this.pl=t,A.player=t,t.getComponent(T).parent=this):t.active=!1}if(this.daodan=this.pl.getChildByName("daodan"),A.text_bi=this.bi,A.xue=100,A.lv_t=this.lv_t,A.jingyan_p=this.jingyan_p,A.parent=this,A.renwu=Math.floor(5*Math.random())+A.lv,A.renwu<3&&(A.renwu=3),0==A.share_state)this.lu_t.string="开始录屏",this.lu_time.string="未开始";else if(1==A.share_state){this.lu_t.string="停止录屏";var n="",a="";n=A.lu_f<10?"0"+A.lu_f:""+A.lu_f,a=A.lu_m<10?"0"+A.lu_m:""+A.lu_m,this.lu_time.string=n+":"+a}else if(2==A.share_state){this.lu_t.string="分享录屏";n="",a="";n=A.lu_f<10?"0"+A.lu_f:""+A.lu_f,a=A.lu_m<10?"0"+A.lu_m:""+A.lu_m,this.lu_time.string=n+":"+a}if("undefined"==typeof wx?(this.lv_t.string="等级:"+A.lv,this.xue_p.fillRange=A.xue/100,this.jingyan_p.fillRange=A.jingyan/100):(A.wei.icon=this.user_icon,A.wei.nic=this.nicname,A.wei.parent=this,A.wei.closeAd(),A.wei.showShare(),A.wei.getBi(),A.wei.getUserInfo(),A.wei.btn_share=this.lu,A.wei.res.appName||A.wei.tui1(),A.wei.onShareAppMessage1("作战紧急邀请函！敌军肆虐急需救援","https://mmocgame.qpic.cn/wechatgame/fz45DryicnHmg7xW0BnhBvaAZfURicNJFJUqHyLiaLPJMIHE1BFGsuXPfRveicjRr1Og/0","jyp_xvHCQ4uMP5SlMNOl1Q","ma="+A.yao_ma)),A.hit_ui=this.node.getChildByName("hit_ui"),A.die_ui=this.node.getChildByName("die_ui"),A.ok_ui=this.node.getChildByName("ok_ui"),A.btn_shoot=this.node.getChildByName("btn_shoot"),A.bei_t=this.bei,A.bi_bei_t=this.bi_bei,A.time=this.time,A.man_t=this.node.getChildByName("man").getChildByName("man_t").getComponent(c),this.lv_t.string="等级:"+A.lv,this.xue_p.fillRange=A.xue/100,this.jingyan_p.fillRange=A.jingyan/100,this.bi.string=""+A.bi,setTimeout((function(){0==A.map_index&&(A.man_t.string=""+A.renwu)}),500),0==A.map_index?setTimeout((function(){i.node&&(i.node.getChildByName("tishi").active=!1)}),5e3):(w.on(C.TOUCH_START,this.mouseDown1,this),w.on(C.TOUCH_MOVE,this.mouseMove1,this),w.on(C.TOUCH_END,this.mouseEnd1,this)),this.init_pos=this.enimy.children[0].position,this.initEnimy(),0==A.map_index)this.enimy.active=!1,this.newTarget();else{this.targets.active=!1,0==A.map_index?(A.bi_bei_t.active=!1,A.bei_t.active=!1,A.btn_shoot.active=!1):1==A.map_index?(A.bi_bei_t.active=!1,A.bei_t.active=!1,A.btn_shoot.active=!1,this.index=0,this.enimy.children[1].destroy()):2==A.map_index&&(A.bi_bei_t.active=!1,A.bei_t.active=!1,A.btn_shoot.active=!1,this.index=1,this.enimy.children[0].destroy());for(var o=0;o<10;o++)this.addEnimy();this.newTarget()}}},{key:"newTarget",value:function(){var i;A.map_index>0?((i=Math.floor(Math.random()*(this.enimy.children.length-1)))<1&&(i=2),this.enimy.children[i].active=!0,this.target=this.enimy.children[i],console.log("enimy:"+this.enimy.children.length)):((i=Math.floor(Math.random()*(this.targets.children.length-1)))<1&&(i=2),this.targets.children[i].active=!0,this.target=this.targets.children[i])}},{key:"up_1",value:function(){1==A.map_index&&(this.pl.getComponent(T).rig.setLinearVelocity(new x(0,10,0)),this.play.playOneShot(this.touch))}},{key:"initEnimy",value:function(){this.eni_s=0,this.all_enimys=Math.floor(Math.random()*(20+A.lv)),this.all_enimys<10&&(this.all_enimys=10+Math.floor(4*Math.random())),this.enimys=this.all_enimys,console.log("all:"+this.all_enimys)}},{key:"addEnimy",value:function(){var i=this.enimy.children[this.index],e=z(i);e.parent=this.enimy,e.active=!0;var t=null,n=Math.random(),a=Math.random();e.position=n<.5?new x(this.init_pos.x+380*n,0,this.init_pos.z+380*a):new x(this.init_pos.x-380*n,0,this.init_pos.z-380*a),1==A.map_index?t=e.getComponent(M):2==A.map_index&&(t=e.getComponent(O)),t.is_die=!1}},{key:"initStart",value:function(){this.node.getChildByName("btn_start").active=!1,this.node.getChildByName("tishi").active=!1,A.rig.isKinematic=!1,A.rig.setLinearVelocity(new x(0,10,0)),this.addEnimy(),this.enimy.children.forEach((function(i){i.getComponent(O).is_die=!1}))}},{key:"initLogin",value:function(){this.play.playOneShot(this.dian),A.view=0,S.loadScene("load.scene")}},{key:"initLu",value:function(){this.play.playOneShot(this.dian),0==A.share_state?(this.lu_t.string="停止录制",this.lu_time.string="00:00",A.wei.huifang()):1==A.share_state?(this.lu_t.string="分享录屏",A.wei.stophuifang()):2==A.share_state&&A.wei.shareVideo()}},{key:"shoot",value:function(){var i=this;if(A.bi>=A.xiaohao){A.bi=A.bi-A.xiaohao,"undefined"==typeof wx||A.wei.setBi(A.bi),this.bi.string=A.bi+"";var e=this.node.getChildByName("btn_shoot");e.active=!1;var t=this.node.getChildByName("wanmei");setTimeout((function(){e.active=!0,i.xue_enimy.active=!1,t.active=!1}),1e3),this.play.playOneShot(this.fire);var n=new(0,N.ray);if(this.sc=j.getCanvasSize(),this.cam.screenPointToRay(this.sc.x/2,this.sc.y/2,n),k.instance.raycastClosest(n)){var a=k.instance.raycastClosestResult,o=a.hitPoint;if(this.bao.node.position=o,this.node.parent.getChildByName("die").position=o,this.pl.parent.eulerAngles=new x(this.pl.parent.eulerAngles.x-.2,this.pl.parent.eulerAngles.y,this.pl.parent.eulerAngles.z),"enimy"==a.collider.node.parent.name){"undefined"==typeof wx||A.wei.zhendong();var l=a.collider.node.getComponent(M);setTimeout((function(){i.play.playOneShot(i.si)}),500),l.life>1?(l.life-=1,a.collider.node.eulerAngles=new x(a.collider.node.eulerAngles.x-5,a.collider.node.eulerAngles.y,a.collider.node.eulerAngles.z),this.bao.play(),setTimeout((function(){a.collider.node.eulerAngles=new x(a.collider.node.eulerAngles.z+5,a.collider.node.eulerAngles.y,a.collider.node.eulerAngles.z)}),50)):(l.life=0,t.active=!0,this.isAdd=!1,this.enimy.children.forEach((function(i){i.getComponent(M).is_die=!0})),A.renwu>1?(A.renwu=A.renwu-1,this.die_enimy(l)):this.initOk(),A.man_t.string=""+A.renwu),this.xue_enimy.active=!0,this.xue_enimy.getChildByName("enimy_xue").getComponent(p).fillRange=l.life/l.max_life,this.xue_enimy.getChildByName("tishi").getComponent(c).string=""+Math.floor(l.life/l.max_life*100)}else this.bao.play()}}else this.play.playOneShot(this.dian),"undefined"==typeof wx||A.wei.showDialog("金币不足,请看广告获取金币或降低倍数")}},{key:"addBei",value:function(){this.play.playOneShot(this.dian),"undefined"==typeof wx||(A.wei.res.appName?A.wei.shangbao("jili","关卡"):(A.duizhan_touch+=1,A.wei.setJiLiData("duizhan",A.duizhan_touch)),1==A.canPlay?(A.bei+=1,A.wei.showToast("倍数:"+A.bei+"倍")):(A.jili_type=6,A.wei.getJiLi1())),A.bei_t.string=A.bei+"倍",A.bi_bei_t.string="*"+5*A.bei+"倍"}},{key:"jianBei",value:function(){this.play.playOneShot(this.dian),"undefined"==typeof wx||(1==A.canPlay?(A.wei.res.appName?A.wei.shangbao("jili","关卡"):(A.pk_touch+=1,A.wei.setJiLiData("pk",A.pk_touch)),A.bei>0?A.bei-=1:A.wei.showToast("已是最小倍数"),A.wei.showToast("倍数:"+A.bei+"倍")):(A.jili_type=6,A.wei.getJiLi1())),A.bei_t.string=A.bei+"倍",A.bi_bei_t.string="*"+5*A.bei+"倍"}},{key:"die_enimy",value:function(i){this.node.parent.getChildByName("die").getComponent(g).play();var e=Math.floor(Math.random()*(100+A.lv));e<30&&(e=30+Math.floor(20*Math.random())),this.pl.getComponent(T).isDie=!0,0==A.map_index?(e+=A.lv,i.node.active=!1):A.map_index>=1&&i.node.destroy(),A.jiang=e*A.bei,A.bi=A.bi+A.jiang,A.jingyan=A.jingyan+Math.floor(e/10);var t=100+88*A.lv;A.jingyan>=t&&(A.jingyan=0,A.lv+=1),"undefined"==typeof wx||(A.wei.getCha(),A.wei.getAd(),A.wei.zhendong(),A.wei.setBi(A.bi),A.wei.save("jingyan",A.bi),A.wei.save("lv",A.lv),A.wei.res.appName||A.wei.updateUserBi(A.bi)),this.lv_t.string="等级:"+A.lv,this.jingyan_p.fillRange=A.jingyan/100,this.bi.string=A.bi+"",0==A.map_index?setTimeout((function(){A.hit_ui.active=!0,A.hit_ui.getChildByName("jiang").getComponent(c).string="奖励你:"+A.jiang+"金币"}),1e3):(A.hit_ui.active=!0,A.hit_ui.getChildByName("jiang").getComponent(c).string="奖励你:"+A.jiang+"金币")}},{key:"initShuangbei",value:function(){"undefined"==typeof wx||(1==A.canPlay?(this.btn_shuang.active=!1,A.wei.showToast("次数已用完")):(A.jili_type=4,A.wei.getJiLi1()))}},{key:"initFuhuo",value:function(){if(this.play.playOneShot(this.dian),this.play.play(),A.xue=100,"undefined"==typeof wx){A.die_ui.active=!1,A.btn_shoot.active=!0,A.parent.hurt.active=!1,A.player.parent.active=!0;var i=A.player.getComponent(T);i.isDie=!1,i.one=0,this.isAdd=!0,this.enimy.children.forEach((function(i){1==A.map_index?i.getComponent(M).is_die=!1:2==A.map_index&&(i.getComponent(O).is_die=!1)}))}else 1==A.canPlay?(A.wei.showToast("次数已用完"),this.node.getChildByName("die_ui").getChildByName("btn_fuhuo").active=!1):(A.jili_type=5,A.wei.getJiLi1())}},{key:"initYao",value:function(){this.play.playOneShot(this.dian),A.wei.res.appName?A.wei.shangbao("jili","邀请"):(A.yao_touch+=1,A.wei.setJiLiData("yao",A.yao_touch)),A.wei.shareAppMessage1("紧急邀请函！诚邀你和我一起战斗吧","https://mmocgame.qpic.cn/wechatgame/fz45DryicnHmPNEgSqxfsNXXznCeBrJRJbkibwDicy1bfNHOSqe0AknwZu1ZJjXNLMib/0","4i6qRdmESOapDquTWTAhCw==","ma="+A.yao_ma)}},{key:"initOk",value:function(){A.ok_ui.active=!0,this.pl.getComponent(T).isDie=!0}},{key:"closeHit",value:function(){this.play.playOneShot(this.dian),A.hit_ui.active=!1,this.isAdd=!0,0==A.map_index?this.newTarget():(this.addEnimy(),this.newTarget()),this.btn_shuang.active=!0,"undefined"==typeof wx||A.wei.closeAd(),this.pl.getComponent(T).isDie=!1,this.enimy.children.forEach((function(i){1==A.map_index?i.getComponent(M).is_die=!1:2==A.map_index&&(i.getComponent(O).is_die=!1)}))}},{key:"initShare",value:function(){this.play.playOneShot(this.dian),A.wei.res.appName?A.wei.shangbao("jili","邀请"):(A.yao_touch+=1,A.wei.setJiLiData("yao",A.yao_touch)),A.wei.shareAppMessage1("我全场击杀啦，快来膜拜我吧！","https://mmocgame.qpic.cn/wechatgame/fz45DryicnHmPNEgSqxfsNXXznCeBrJRJbkibwDicy1bfNHOSqe0AknwZu1ZJjXNLMib/0","4i6qRdmESOapDquTWTAhCw==","ma="+A.yao_ma)}},{key:"initFail",value:function(){this.play.playOneShot(this.dian),A.view=3,S.loadScene("load.scene")}},{key:"initOK1",value:function(){this.play.playOneShot(this.dian),A.view=4,S.loadScene("load.scene")}},{key:"initGetBi",value:function(){this.play.playOneShot(this.dian),A.wei.getJiLi(500)}},{key:"initMenu",value:function(){this.play.playOneShot(this.dian),A.view=1,A.player.getComponent(T).isDie=!0,this.enimy.children.forEach((function(i){1==A.map_index?i.getComponent(M).is_die=!0:2==A.map_index&&(i.getComponent(O).is_die=!0)})),S.loadScene("load.scene")}},{key:"mouseDown1",value:function(i,e){e.getLocation();var t=e.getUILocation();this.node&&(this.node.getChildByName("biao").active=!0,this.node.getChildByName("biao").position=new x(t.x-j.getVisibleSize().x/2,t.y-j.getVisibleSize().y/2,0))}},{key:"mouseMove1",value:function(i,e){if(this.node){var t=e.getUILocation();this.node.getChildByName("biao").position=new x(t.x-j.getVisibleSize().x/2,t.y-j.getVisibleSize().y/2,0)}}},{key:"mouseEnd1",value:function(i,e){if(this.node){e.getLocation();this.node.getChildByName("biao").active=!1}}},{key:"onDestroy",value:function(){this.isOver=!0,this.isAdd=!1,this.enimy.children.forEach((function(i){1==A.map_index?i.getComponent(M).is_die=!1:2==A.map_index&&(i.getComponent(O).is_die=!1)})),this.node.getComponent(b).stop(),"undefined"==typeof wx||A.wei.res.appName||(A.wei.closeAd(),A.wei.hideshare(),A.wei.closeIcon())}}]),e}(B)).prototype,"bi",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),si=t(li.prototype,"user_icon",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ui=t(li.prototype,"nicname",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),hi=t(li.prototype,"lv_t",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),di=t(li.prototype,"xue_p",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ci=t(li.prototype,"jingyan_p",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pi=t(li.prototype,"player",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mi=t(li.prototype,"cam",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_i=t(li.prototype,"fire",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yi=t(li.prototype,"dian",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),gi=t(li.prototype,"si",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fi=t(li.prototype,"bao",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vi=t(li.prototype,"time",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),bi=t(li.prototype,"bei",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wi=t(li.prototype,"bi_bei",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ci=t(li.prototype,"lu_t",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xi=t(li.prototype,"lu_time",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),zi=t(li.prototype,"lu",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Si=t(li.prototype,"enimy",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ni=t(li.prototype,"targets",[ii],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ji=t(li.prototype,"btn_shuang",[ei],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ki=t(li.prototype,"xue_enimy",[ti],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Bi=t(li.prototype,"hurt",[ni],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ai=t(li.prototype,"touch",[ai],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oi=li))||oi)),h._RF.pop()}}}));

System.register("chunks:///daodan_ctr.js",["./_virtual/_rollupPluginBabelHelpers.js","cc","./GameInfo.js","./man_ctr.js","./game_ctr.js"],(function(e,t){var n,o,i,r,l,a,c,s,d,u,m,p,h,_,f,g,y,v,C,b,k,w,j,z;return e({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_temp:void 0}),{setters:[function(e){n=e.applyDecoratedDescriptor,o=e.inherits,i=e.classCallCheck,r=e.possibleConstructorReturn,l=e.getPrototypeOf,a=e.initializerDefineProperty,c=e.assertThisInitialized,s=e.createClass},function(e){d=e.cclegacy,u=e._decorator,m=e.Node,p=e.ColliderComponent,h=e.Vec3,_=e.Component},function(e){f=e.GameInfo},function(e){g=e.man_ctr},function(e){y=e.game_ctr}],execute:function(){d._RF.push({},"0b320XvKBFFLZzfd+w5/mR2","daodan_ctr",void 0),j=u.ccclass,z=u.property,e("daodan_ctr",(v=j("daodan_ctr"),C=z(m),v((w=n((k=function(e){function t(){var e,n;i(this,t);for(var o=arguments.length,s=new Array(o),d=0;d<o;d++)s[d]=arguments[d];return n=r(this,(e=l(t)).call.apply(e,[this].concat(s))),a(n,"game",w,c(n)),n.isMove=!1,n.collider=null,n.gctr=null,n}return o(t,e),s(t,[{key:"start",value:function(){this.collider=this.node.getComponent(p),this.collider.on("onCollisionStay",this.onCollision,this),this.gctr=this.game.getComponent(y)}},{key:"update",value:function(e){this.isMove&&this.node.translate(new h(0,0,.1))}},{key:"onCollision",value:function(e){var t=this;if("enimy"==e.otherCollider.node.parent.name||"enimy_no"==e.otherCollider.node.parent.name){var n=e.otherCollider.node.getComponent(g);setTimeout((function(){t.gctr.play.playOneShot(t.gctr.si)}),500),n.life>1?(n.life-=1,e.otherCollider.node.eulerAngles=new h(-5,0,0),setTimeout((function(){e.otherCollider.node.eulerAngles=new h(0,0,0)}),50)):(this.gctr.die_enimy(n),f.all_enimy>1?(f.all_enimy=f.all_enimy-1,console.log("杀敌")):this.gctr.initOk(),f.man_t.string=""+f.all_enimy)}}}]),t}(_)).prototype,"game",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=k))||b)),d._RF.pop()}}}));

System.register("chunks:///fail_ctr.js",["./_virtual/_rollupPluginBabelHelpers.js","cc","./GameInfo.js"],(function(i,e){var t,n,a,r,o,l,u,s,c,p,_,d,h,f,g,b,y,w,m,v,S,C,N,j,k,z,x,D,O,R,q,A,J,B,L,T,P,M,E,H,I,X,G,Z,V,W,F,U,Q,Y;return i({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_dec6:void 0,_dec7:void 0,_dec8:void 0,_dec9:void 0,_dec10:void 0,_dec11:void 0,_dec12:void 0,_dec13:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_descriptor5:void 0,_descriptor6:void 0,_descriptor7:void 0,_descriptor8:void 0,_descriptor9:void 0,_descriptor10:void 0,_descriptor11:void 0,_descriptor12:void 0,_temp:void 0}),{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inherits,a=i.classCallCheck,r=i.possibleConstructorReturn,o=i.getPrototypeOf,l=i.initializerDefineProperty,u=i.assertThisInitialized,s=i.createClass},function(i){c=i.cclegacy,p=i._decorator,_=i.LabelComponent,d=i.SpriteComponent,h=i.Node,f=i.AudioClip,g=i.profiler,b=i.AudioSourceComponent,y=i.game,w=i.Game,m=i.director,v=i.Component},function(i){S=i.GameInfo}],execute:function(){c._RF.push({},"6dc3fblqNRIk4jTVTrBC+cQ","fail_ctr",void 0),Q=p.ccclass,Y=p.property,i("fail_ctr",(C=Q("fail_ctr"),N=Y(_),j=Y(d),k=Y(h),z=Y(_),x=Y(_),D=Y(d),O=Y(d),R=Y(f),q=Y(_),A=Y(_),J=Y(h),B=Y(h),C((P=t((T=function(i){function e(){var i,t;a(this,e);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return t=r(this,(i=o(e)).call.apply(i,[this].concat(s))),l(t,"bi",P,u(t)),l(t,"user_icon",M,u(t)),l(t,"btn_login",E,u(t)),l(t,"nicname",H,u(t)),l(t,"lv_t",I,u(t)),l(t,"xue_p",X,u(t)),l(t,"jingyan_p",G,u(t)),l(t,"dian",Z,u(t)),l(t,"lu_t",V,u(t)),l(t,"lu_time",W,u(t)),l(t,"lu",F,u(t)),l(t,"btn_shuang",U,u(t)),t.play=null,t}return n(e,i),s(e,[{key:"start",value:function(){var i=this;if(g.hideStats(),this.play=this.node.getComponent(b),y.on(w.EVENT_SHOW,(function(){i.play.play()}),this),0==S.share_state)this.lu_t.string="开始录屏",this.lu_time.string="未开始";else if(1==S.share_state){this.lu_t.string="停止录屏";var e="",t="";e=S.lu_f<10?"0"+S.lu_f:""+S.lu_f,t=S.lu_m<10?"0"+S.lu_m:""+S.lu_m,this.lu_time.string=e+":"+t}else if(2==S.share_state){this.lu_t.string="分享录屏";e="",t="";e=S.lu_f<10?"0"+S.lu_f:""+S.lu_f,t=S.lu_m<10?"0"+S.lu_m:""+S.lu_m,this.lu_time.string=e+":"+t}"undefined"==typeof wx?(this.lv_t.string="等级:"+S.lv,this.xue_p.fillRange=S.xue/100,this.jingyan_p.fillRange=S.jingyan/100):(S.wei.icon=this.user_icon,S.wei.nic=this.nicname,S.deng=this.btn_login,S.text_bi=this.bi,S.wei.closeAd(),S.wei.getAd(),S.wei.getCha(),S.wei.parent=this,S.wei.showShare(),S.wei.getBi(),S.wei.getUserInfo(),S.wei.btn_share=this.lu,S.wei.res.appName||(S.wei.tui1(),S.wei.onShareAppMessage1("作战紧急邀请函！敌军肆虐急需救援","https://mmocgame.qpic.cn/wechatgame/fz45DryicnHmPNEgSqxfsNXXznCeBrJRJbkibwDicy1bfNHOSqe0AknwZu1ZJjXNLMib/0","4i6qRdmESOapDquTWTAhCw==","ma="+S.yao_ma)),S.wei.res.appName?S.wei.shangbao("jili","失败界面"):(S.fail_touch+=1,S.wei.setJiLiData("fail",S.fail_touch)),this.lv_t.string="等级:"+S.lv,this.xue_p.fillRange=S.xue/100,this.jingyan_p.fillRange=S.jingyan/100),this.jiangli()}},{key:"initLogin",value:function(){this.play.playOneShot(this.dian),S.view=0,m.loadScene("load.scene")}},{key:"initLu",value:function(){this.play.playOneShot(this.dian),0==S.share_state?(this.lu_t.string="停止录制",this.lu_time.string="00:00",S.wei.huifang()):1==S.share_state?(this.lu_t.string="分享录屏",S.wei.stophuifang()):2==S.share_state&&S.wei.shareVideo()}},{key:"jiangli",value:function(){var i=Math.floor(200*Math.random());if(i<50&&(i=50),S.jiang=i,S.bi=S.bi+i,"undefined"==typeof wx||(S.wei.setBi(S.bi),S.wei.res.appName||S.wei.updateUserBi(S.bi)),this.bi.string=""+S.bi,this.node.getChildByName("ad_bi").getChildByName("bi_t").getComponent(_).string=""+i,"undefined"==typeof wx);else{var e={wxgame:{renwu:S.bi,update_time:1513080573},cost_ms:36500},t={key:"renwu",value:JSON.stringify(e)};S.wei.setCloud(t)}}},{key:"showPai",value:function(){S.wei.showPai()}},{key:"initGetBi",value:function(){this.play.playOneShot(this.dian),S.wei.getJiLi(500)}},{key:"initShuangbei",value:function(){"undefined"==typeof wx||(1==S.canPlay?(this.btn_shuang.active=!1,S.wei.showToast("次数已用完")):(S.jili_type=4,S.wei.getJiLi1()))}},{key:"initMenu",value:function(){this.play.playOneShot(this.dian),S.view=1,m.loadScene("load.scene")}},{key:"initYao",value:function(){this.play.playOneShot(this.dian),S.wei.res.appName?S.wei.shangbao("jili","邀请"):(S.yao_touch+=1,S.wei.setJiLiData("yao",S.yao_touch)),S.wei.shareAppMessage1("紧急邀请函！诚邀你和我一起战斗吧","https://mmocgame.qpic.cn/wechatgame/fz45DryicnHmPNEgSqxfsNXXznCeBrJRJbkibwDicy1bfNHOSqe0AknwZu1ZJjXNLMib/0","4i6qRdmESOapDquTWTAhCw==","ma="+S.yao_ma)}},{key:"onDestroy",value:function(){this.node.getComponent(b).stop(),"undefined"==typeof wx||S.wei.res.appName||(S.wei.hideshare(),S.wei.closeIcon())}}]),e}(v)).prototype,"bi",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(T.prototype,"user_icon",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(T.prototype,"btn_login",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(T.prototype,"nicname",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(T.prototype,"lv_t",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(T.prototype,"xue_p",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(T.prototype,"jingyan_p",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(T.prototype,"dian",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(T.prototype,"lu_t",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(T.prototype,"lu_time",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(T.prototype,"lu",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(T.prototype,"btn_shuang",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=T))||L)),c._RF.pop()}}}));

System.register("chunks:///game_server.js",["./_virtual/_rollupPluginBabelHelpers.js","cc","./GameInfo.js"],(function(e,t){var n,s,o,i,a,r,c,u,f,h,v,l;return e({_dec:void 0,_class:void 0,_temp:void 0}),{setters:[function(e){n=e.inherits,s=e.createClass,o=e.classCallCheck,i=e.possibleConstructorReturn,a=e.getPrototypeOf},function(e){r=e.cclegacy,c=e._decorator,u=e.Component},function(e){f=e.GameInfo}],execute:function(){r._RF.push({},"e2789XqaxtN1JBNomlhpkEy","game_server",void 0),l=c.ccclass,c.property,e("game_server",(h=l("game_server"),h(v=function(e){function t(){var e,n;o(this,t);for(var s=arguments.length,r=new Array(s),c=0;c<s;c++)r[c]=arguments[c];return(n=i(this,(e=a(t)).call.apply(e,[this].concat(r)))).parent=null,n.users=[],n.server=null,n.roomInfo={},n.hasGameStart=!1,n.fps=0,n.frameInterval=0,n.frameJitLenght=0,n.gameResult=[],n.reconnecting=!1,n.reconnectMaxFrameId=0,n.reconnectSuccess=0,n.reconnectFail=0,n.isConnected=!1,n}return n(t,e),s(t,[{key:"start",value:function(){var e=this;if(!wx.getGameServerManager)return f.wei.showDialog("当前微信版本不支持帧同步框架");this.server=wx.getGameServerManager(),this.roomInfo={},this.hasGameStart=!1,this.fps=30,this.frameInterval=1e3/this.fps,this.frameJitLenght=2,this.gameResult=[],this.reconnecting=!1,this.reconnectMaxFrameId=0,this.reconnectSuccess=0,this.reconnectFail=0,this.bindEvent(),this.login(),""!=f.accessInfo&&this.reconnect(),this.isConnected=!0,wx.getNetworkType({success:function(t){e.isConnected=!("none"===t.networkType)}})}},{key:"broadcastInRoom",value:function(e){this.server.broadcastInRoom({msg:e,success:function(e){},fail:function(e){}})}},{key:"changeSeat",value:function(e){this.server.changeSeat({posNum:e,success:function(e){f.wei.showToast("换座成功"),console.log("换座成功")},fail:function(e){f.wei.showToast("换座失败"),console.log("换座失败")}})}},{key:"createRoom",value:function(e,t){var n=this;this.server.createRoom({maxMemberNum:e,startPercent:0,needUserInfo:!0,gameLastTime:3600,roomExtInfo:"",memberExtInfo:t,needGameSeed:!1,success:function(e){f.wei.showToast("创建成功"),f.accessInfo=e.accessInfo,f.clientId=e.clientId,f.isFangZhu=!0,n.setInviteData(e.accessInfo),n.parent.wait_t.text="亲爱的房主,快去左侧邀请好友加入吧...",n.getRoomInfo(),console.log("创建成功")},fail:function(e){f.wei.showToast("创建失败")}})}},{key:"endGame",value:function(){this.server.endGame({success:function(e){},fail:function(e){}})}},{key:"endStateService",value:function(){this.server.endStateService({success:function(e){},fail:function(e){}})}},{key:"getLastRoomInfo",value:function(){this.server.getLastRoomInfo({success:function(e){e.data},fail:function(e){}})}},{key:"getLostFrames",value:function(e){var t=this;this.server.getLostFrames({beginFrameId:e,endFrameId:1,success:function(e){var n=e.data.frameList;t.parent.updateGame(n)},fail:function(e){}})}},{key:"getRoomInfo",value:function(){var e=this;this.server.getRoomInfo({success:function(t){var n=t.data.roomInfo;f.roomInfo=n,e.parent.resetList(n),e.parent.my_state.text="我的状态:已准备",e.parent.chuangjian.visible=!1,e.parent.jiaru.visible=!1;var s=n.memberList;e.initUsers(s);for(var o=0;o<s.length;o++){var i=s[o];i.clientId==f.clientId&&(f.myPos=i.posNum)}f.wei.showToast("已有房间")},fail:function(t){f.wei.showToast("没有房间"),e.parent.my_state.text="创建或加入一个房间吧...",e.parent.room_name.text="房间:未知房间",e.parent.room_name.text="房间ID:未知房间ID"}})}},{key:"initUsers",value:function(e){for(var t=0;t<e.length;t++){var n=e[t];this.users[t]={nickname:n.nickname,headimg:n.headimg,posNum:n.posNum,renwu:0},n.nickname==f.nickName&&t>0&&(this.parent.player.transform.position=this.parent.players[t].transform.position)}}},{key:"joinRoom",value:function(e,t){var n=this;this.server.joinRoom({accessInfo:e,memberExtInfo:t,success:function(t){f.wei.showToast("加入成功"),f.myPos=t.data.myPos,f.clientId=t.data.clientId,n.setInviteData(e),n.getRoomInfo()},fail:function(e){f.wei.showToast("加入失败")}})}},{key:"kickoutMember",value:function(e){this.server.kickoutMember({kickoutPos:e,success:function(e){e.data.myPos,e.data.clientId;f.wei.showToast("踢出成功")},fail:function(e){f.wei.showToast("踢出失败")}})}},{key:"login",value:function(){var e=this;this.server.login({success:function(t){e.startStateService("wait"),e.setState("{bi:"+f.bi+",state:0}"),wx.getOpenDataContext().postMessage("userlist"),console.log("登录成功")},fail:function(e){f.wei.showToast("登录服务异常"),console.log("登录失败")}})}},{key:"logout",value:function(){this.server.logout({success:function(e){console.log("退出成功")},fail:function(e){}})}},{key:"memberLeaveRoom",value:function(e){this.server.memberLeaveRoom({accessInfo:e,success:function(e){f.wei.showToast("离开房间")},fail:function(e){f.wei.showToast("离开房间失败")}})}},{key:"bindEvent",value:function(){this.server.onBeKickedOut(this.onBeiti),this.server.onBroadcast(this.onMsg),this.server.onDisconnect(this.onDisConnect),this.server.onGameEnd(this.onGameEnd),this.server.onGameStart(this.onGameStart),this.server.onInvite(this.onInvite),this.server.onLogout(this.onLogout),this.server.onRoomInfoChange(this.onRoomInfoChange),this.server.onSyncFrame(this.onSyncFrame)}},{key:"offEvent",value:function(){this.server.offBeKickedOut(this.onBeiti),this.server.offBroadcast(this.onMsg),this.server.offDisconnect(this.onDisConnect),this.server.offGameEnd(this.onGameEnd),this.server.offGameStart(this.onGameStart),this.server.offInvite(this.onInvite),this.server.offLogout(this.onLogout),this.server.offRoomInfoChange(this.onRoomInfoChange),this.server.offSyncFrame(this.onSyncFrame)}},{key:"onBeiti",value:function(e){}},{key:"onMsg",value:function(e){if(f.isFangZhu||"start"==e&&(this.startGame(),f.view=4),"over"==e&&(f.server.endGame(),f.server.endStateService(),this.parent.pl.isUpdate=!1,this.parent.pl.doOK()),-1!=e.search(",")){for(var t=e.split(","),n=0;n<this.users.length;n++){var s=this.users[n];s.posNum==t[0]&&(s.renwu=t[1])}this.resetBang()}}},{key:"resetBang",value:function(){this.parent.list_user.array=this.users,this.parent.list_user.refresh()}},{key:"onDisConnect",value:function(e){this.reconnect()}},{key:"onGameEnd",value:function(e){}},{key:"onGameStart",value:function(e){}},{key:"onInvite",value:function(e){console.log("该玩家接受了来自用户",e.openId,"的邀请"),console.log("本次邀请的附加信息",e.data),f.game_type=7,f.view=15,this.initGame(),f.accessInfo=e.data,this.joinRoom(e.data,"")}},{key:"initGame",value:function(){f.time=60,f.renwu=0,f.xiaohao=888,f.inGame=1,f.jiangli=3e3,f.you+=3,wx.setStorageSync("you",f.you)}},{key:"onLogout",value:function(e){this.login()}},{key:"onRoomInfoChange",value:function(e){f.roomInfo=e,this.parent.resetList(e)}},{key:"onSyncFrame",value:function(e){f.maxFrameId&&this.getLostFrames(f.maxFrameId),this.parent.updateGame(e.actionList)}},{key:"ownerLeaveRoom",value:function(e){this.server.ownerLeaveRoom({accessInfo:e,assignToMinPosNum:!0,success:function(e){f.wei.showToast("房主离开")},fail:function(e){f.wei.showToast("离开失败")}})}},{key:"reconnect",value:function(){this.server.reconnect({accessInfo:f.accessInfo,success:function(e){f.maxFrameId=e.data.maxFrameId,f.wei.showToast("重连成功")},fail:function(e){f.wei.showToast("重连失败")}})}},{key:"restart",value:function(){this.server.restart({success:function(e){f.wei.showToast("重启成功")},fail:function(e){f.wei.showToast("重启失败")}})}},{key:"setInviteData",value:function(e){this.server.setInviteData(e)}},{key:"setState",value:function(e){this.server.setState({userState:e,success:function(e){f.wei.showToast("更新成功")},fail:function(e){f.wei.showToast("更新失败")}})}},{key:"startGame",value:function(){this.server.startGame({success:function(e){},fail:function(e){}})}},{key:"startStateService",value:function(e){this.server.startStateService({userState:e,success:function(e){console.log("竞技服已连接")},fail:function(e){console.log("竞技服连接失败")}})}},{key:"updateReadyStatus",value:function(e){this.server.updateReadyStatus({accessInfo:e,isReady:!0,success:function(e){},fail:function(e){}})}},{key:"uploadFrame",value:function(e){this.server.uploadFrame({actionList:e,success:function(e){},fail:function(e){}})}}]),t}(u))||v)),r._RF.pop()}}}));

System.register("chunks:///load_ctr.js",["./_virtual/_rollupPluginBabelHelpers.js","cc","./GameInfo.js"],(function(e,t){var i,r,n,l,s,a,o,u,c,_,d,h,f,p,m,v,g,b,w,y,k,S,z,C,x,D,P,j,A;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_temp:void 0}),{setters:[function(e){i=e.applyDecoratedDescriptor,r=e.inherits,n=e.classCallCheck,l=e.possibleConstructorReturn,s=e.getPrototypeOf,a=e.initializerDefineProperty,o=e.assertThisInitialized,u=e.createClass},function(e){c=e.cclegacy,_=e._decorator,d=e.LabelComponent,h=e.Node,f=e.profiler,p=e.director,m=e.Component},function(e){v=e.GameInfo}],execute:function(){c._RF.push({},"5406eoMiMxP/roUdlOeLklX","load_ctr",void 0),j=_.ccclass,A=_.property,e("load_ctr",(g=j("load_ctr"),b=A(d),w=A(d),y=A(d),k=A(h),g((C=i((z=function(e){function t(){var e,i;n(this,t);for(var r=arguments.length,u=new Array(r),c=0;c<r;c++)u[c]=arguments[c];return i=l(this,(e=s(t)).call.apply(e,[this].concat(u))),a(i,"tip",C,o(i)),a(i,"lu_t",x,o(i)),a(i,"lu_time",D,o(i)),a(i,"lu",P,o(i)),i.tips=["我有一个梦，梦见我开飞机在高空俯瞰大地，那景色那感觉美得一塌糊涂，加油驾驶者...","金币很容易花光？别担心，邀请好友、看视频广告都可以获取...","开飞机拾取全场景金币可获得奖励，通关也可以获得金币奖励，金币可用来买飞机...","飞向高空吧，和你的好伙伴一起畅游高空，历险唯美风景赚取金币，不妨来一场比赛吧..."],i}return r(t,e),u(t,[{key:"start",value:function(){if(f.hideStats(),"undefined"==typeof wx||(v.wei.btn_share=this.lu,v.wei.parent=this,v.wei.closeAd(),v.wei.getAd(),v.wei.showShare(),v.wei.getCha()),0==v.share_state)this.lu_t.string="开始录屏",this.lu_time.string="未开始";else if(1==v.share_state){this.lu_t.string="停止录屏";var e="",t="";e=v.lu_f<10?"0"+v.lu_f:""+v.lu_f,t=v.lu_m<10?"0"+v.lu_m:""+v.lu_m,this.lu_time.string=e+":"+t}else if(2==v.share_state){this.lu_t.string="分享录屏";e="",t="";e=v.lu_f<10?"0"+v.lu_f:""+v.lu_f,t=v.lu_m<10?"0"+v.lu_m:""+v.lu_m,this.lu_time.string=e+":"+t}this.scheduleOnce(this.zuoshi,5)}},{key:"initLu",value:function(){0==v.share_state?(this.lu_t.string="停止录制",this.lu_time.string="00:00",v.wei.huifang()):1==v.share_state?(this.lu_t.string="分享录屏",v.wei.stophuifang()):2==v.share_state&&v.wei.shareVideo()}},{key:"zuoshi",value:function(e){switch(v.view){case 0:p.loadScene("login.scene");break;case 1:p.loadScene("menu.scene");break;case 2:v.map_index>2?p.loadScene("level1.scene"):p.loadScene("level0.scene");break;case 3:p.loadScene("fail.scene");break;case 4:p.loadScene("ok.scene");break;case 5:p.loadScene("loadres.scene");break;case 6:p.loadScene("tong.scene")}}},{key:"onDestroy",value:function(){"undefined"==typeof wx||v.wei.res.appName||v.wei.hideshare()}}]),t}(m)).prototype,"tip",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=i(z.prototype,"lu_t",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(z.prototype,"lu_time",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=i(z.prototype,"lu",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=z))||S)),c._RF.pop()}}}));

System.register("chunks:///loadres_ctr.js",["./_virtual/_rollupPluginBabelHelpers.js","cc","./GameInfo.js"],(function(e,t){var i,r,n,o,l,s,a,u,c,d,_,f,p,h,g,b,m,v,w,y,k,S,z,C,x,D,I,N,O,R;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_temp:void 0}),{setters:[function(e){i=e.applyDecoratedDescriptor,r=e.inherits,n=e.classCallCheck,o=e.possibleConstructorReturn,l=e.getPrototypeOf,s=e.initializerDefineProperty,a=e.assertThisInitialized,u=e.createClass},function(e){c=e.cclegacy,d=e._decorator,_=e.LabelComponent,f=e.Node,p=e.profiler,h=e.loader,g=e.director,b=e.Component},function(e){m=e.GameInfo}],execute:function(){c._RF.push({},"65b1abpO/lNS65ORspONEpg","loadres_ctr",void 0),O=d.ccclass,R=d.property,e("loadres_ctr",(v=O("loadres_ctr"),w=R(_),y=R(_),k=R(_),S=R(f),v((x=i((C=function(e){function t(){var e,i;n(this,t);for(var r=arguments.length,u=new Array(r),c=0;c<r;c++)u[c]=arguments[c];return i=o(this,(e=l(t)).call.apply(e,[this].concat(u))),s(i,"tishi",x,a(i)),s(i,"lu_t",D,a(i)),s(i,"lu_time",I,a(i)),s(i,"lu",N,a(i)),i}return r(t,e),u(t,[{key:"start",value:function(){var e=this;if(p.hideStats(),"undefined"==typeof wx||(m.wei.btn_share=this.lu,m.wei.parent=this,m.wei.closeAd(),m.wei.showShare()),0==m.share_state)this.lu_t.string="开始录屏",this.lu_time.string="未开始";else if(1==m.share_state){this.lu_t.string="停止录屏";var t="",i="";t=m.lu_f<10?"0"+m.lu_f:""+m.lu_f,i=m.lu_m<10?"0"+m.lu_m:""+m.lu_m,this.lu_time.string=t+":"+i}else if(2==m.share_state){this.lu_t.string="分享录屏";t="",i="";t=m.lu_f<10?"0"+m.lu_f:""+m.lu_f,i=m.lu_m<10?"0"+m.lu_m:""+m.lu_m,this.lu_time.string=t+":"+i}h.downloader.loadSubpackage("audio",(function(t){t||(e.tishi.string="网络资源加载中，请稍后...(已完成:1/3)",h.downloader.loadSubpackage("fbx",(function(t){t||(e.tishi.string="网络资源加载中，请稍后...(已完成:2/3)",h.downloader.loadSubpackage("bg",(function(t){t||(e.tishi.string="网络资源加载中，请稍后...(已完成:3/3)","undefined"==typeof wx?(m.view=1,g.loadScene("load.scene")):m.wei.getIsLogin())})))})))}))}},{key:"initLu",value:function(){0==m.share_state?(this.lu_t.string="停止录制",this.lu_time.string="00:00",m.wei.huifang()):1==m.share_state?(this.lu_t.string="分享录屏",m.wei.stophuifang()):2==m.share_state&&m.wei.shareVideo()}},{key:"onDestroy",value:function(){"undefined"==typeof wx||m.wei.res.appName||m.wei.hideshare()}}]),t}(b)).prototype,"tishi",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=i(C.prototype,"lu_t",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=i(C.prototype,"lu_time",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=i(C.prototype,"lu",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=C))||z)),c._RF.pop()}}}));

System.register("chunks:///login_ctr.js",["./_virtual/_rollupPluginBabelHelpers.js","cc","./GameInfo.js"],(function(e,i){var t,n,o,r,l,a,s,u,c,p,_,h,d,f,g,m,y,w,v,b,S,C,z,k,A,D,N,O,L,q,P,R,j,x,E;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_dec6:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_descriptor5:void 0,_temp:void 0}),{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inherits,o=e.classCallCheck,r=e.possibleConstructorReturn,l=e.getPrototypeOf,a=e.initializerDefineProperty,s=e.assertThisInitialized,u=e.createClass},function(e){c=e.cclegacy,p=e._decorator,_=e.LabelComponent,h=e.Node,d=e.AudioClip,f=e.profiler,g=e.AudioSourceComponent,m=e.game,y=e.Game,w=e.director,v=e.Component},function(e){b=e.GameInfo}],execute:function(){c._RF.push({},"a0977PtDotO97Aur0p15zpV","login_ctr",void 0),x=p.ccclass,E=p.property,e("login_ctr",(S=x("login_ctr"),C=E(_),z=E(_),k=E(h),A=E(h),D=E(d),S((L=t((O=function(e){function i(){var e,t;o(this,i);for(var n=arguments.length,u=new Array(n),c=0;c<n;c++)u[c]=arguments[c];return t=r(this,(e=l(i)).call.apply(e,[this].concat(u))),a(t,"lu_t",L,s(t)),a(t,"lu_time",q,s(t)),a(t,"lu",P,s(t)),a(t,"btn_login",R,s(t)),a(t,"dian",j,s(t)),t.play=null,t}return n(i,e),u(i,[{key:"start",value:function(){var e=this;if(f.hideStats(),"undefined"==typeof wx||(b.wei.closeAd(),b.wei.getAd(),b.wei.parent=this,b.wei.btn_share=this.lu,b.wei.res.appName||(this.btn_login.active=!1,b.wei.initLogin(),b.wei.tui1()),b.wei.onShareAppMessage1("作战紧急邀请函！敌军肆虐急需救援","https://mmocgame.qpic.cn/wechatgame/fz45DryicnHmPNEgSqxfsNXXznCeBrJRJbkibwDicy1bfNHOSqe0AknwZu1ZJjXNLMib/0","4i6qRdmESOapDquTWTAhCw==","ma="+b.yao_ma),b.wei.showShare()),0==b.share_state)this.lu_t.string="开始录屏",this.lu_time.string="未开始";else if(1==b.share_state){this.lu_t.string="停止录屏";var i="",t="";i=b.lu_f<10?"0"+b.lu_f:""+b.lu_f,t=b.lu_m<10?"0"+b.lu_m:""+b.lu_m,this.lu_time.string=i+":"+t}else if(2==b.share_state){this.lu_t.string="分享录屏";i="",t="";i=b.lu_f<10?"0"+b.lu_f:""+b.lu_f,t=b.lu_m<10?"0"+b.lu_m:""+b.lu_m,this.lu_time.string=i+":"+t}this.play=this.node.getComponent(g),m.on(y.EVENT_SHOW,(function(){e.play.play()}),this)}},{key:"initLogin",value:function(){this.play.playOneShot(this.dian),b.wei.dologin()}},{key:"initLu",value:function(){this.play.playOneShot(this.dian),0==b.share_state?(this.lu_t.string="停止录制",this.lu_time.string="00:00",b.wei.huifang()):1==b.share_state?(this.lu_t.string="分享录屏",b.wei.stophuifang()):2==b.share_state&&b.wei.shareVideo()}},{key:"initMenu",value:function(){this.play.playOneShot(this.dian),b.view=1,w.loadScene("load.scene")}},{key:"onDestroy",value:function(){this.node.getComponent(g).stop(),"undefined"==typeof wx||b.wei.res.appName||(b.wei.closeLogin(),b.wei.hideshare(),b.wei.closeIcon())}}]),i}(v)).prototype,"lu_t",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(O.prototype,"lu_time",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(O.prototype,"lu",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(O.prototype,"btn_login",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(O.prototype,"dian",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=O))||N)),c._RF.pop()}}}));

System.register("chunks:///map_ctr.js",["./_virtual/_rollupPluginBabelHelpers.js","cc"],(function(e,t){var r,i,n,c,o,a,s,l,p,u,_,d,f,y,h,v,m,b,g,C,j;return e({_dec:void 0,_dec2:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_temp:void 0}),{setters:[function(e){r=e.applyDecoratedDescriptor,i=e.inherits,n=e.classCallCheck,c=e.possibleConstructorReturn,o=e.getPrototypeOf,a=e.initializerDefineProperty,s=e.assertThisInitialized,l=e.createClass},function(e){p=e.cclegacy,u=e._decorator,_=e.Prefab,d=e.instantiate,f=e.Vec3,y=e.Component}],execute:function(){p._RF.push({},"4e269QM199GjIKYjAVQhhzE","map_ctr",void 0),C=u.ccclass,j=u.property,e("map_ctr",(h=C("map_ctr"),v=j([_]),h((g=r((b=function(e){function t(){var e,r;n(this,t);for(var i=arguments.length,l=new Array(i),p=0;p<i;p++)l[p]=arguments[p];return r=c(this,(e=o(t)).call.apply(e,[this].concat(l))),a(r,"enimy",g,s(r)),r}return i(t,e),l(t,[{key:"start",value:function(){d(this.enimy[0]).position=new f(-49,35,10)}}]),t}(y)).prototype,"enimy",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=b))||m)),p._RF.pop()}}}));

System.register("chunks:///menu_all_ctr.js",["./_virtual/_rollupPluginBabelHelpers.js","cc","./GameInfo.js"],(function(e,i){var a,n,t,o,l,s,p,r,c,u,d,h,m,_,y,w,g,f,v,x,C,b,I,N;return e({_dec:void 0,_dec2:void 0,_dec3:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_temp:void 0}),{setters:[function(e){a=e.applyDecoratedDescriptor,n=e.inherits,t=e.classCallCheck,o=e.possibleConstructorReturn,l=e.getPrototypeOf,s=e.initializerDefineProperty,p=e.assertThisInitialized,r=e.createClass},function(e){c=e.cclegacy,u=e._decorator,d=e.Node,h=e.AudioClip,m=e.AudioSourceComponent,_=e.Component},function(e){y=e.GameInfo}],execute:function(){c._RF.push({},"50cabZO66lJJrY9FmoQnfed","menu_all_ctr",void 0),I=u.ccclass,N=u.property,e("menu_all_ctr",(w=I("menu_all_ctr"),g=N(d),f=N(h),w((C=a((x=function(e){function i(){var e,a;t(this,i);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return a=o(this,(e=l(i)).call.apply(e,[this].concat(r))),s(a,"can",C,p(a)),s(a,"dian",b,p(a)),a.play=null,a.all=null,a}return n(i,e),r(i,[{key:"start",value:function(){this.play=this.can.getComponent(m),this.all=this.node.children,y.all_btn=this.all,"undefined"==typeof wx||(y.wei.res.appName?(this.node.getChildByName("dao").getChildByName("Sprite").active=!1,this.node.getChildByName("cun").getChildByName("Sprite").active=!1,this.node.getChildByName("zao").getChildByName("Sprite").active=!1):y.renwu_touch+=1),this.manageUI()}},{key:"initCity",value:function(){this.play.playOneShot(this.dian),y.map_index=0,this.manageUI(),"undefined"==typeof wx||(y.wei.save("map_index",y.map_index),y.wei.res.appName?y.wei.shangbao("jiequ","岛"):(y.renwu_touch+=1,y.wei.setJiLiData("shijian",y.renwu_touch)))}},{key:"initDao",value:function(){this.play.playOneShot(this.dian),"undefined"==typeof wx?(y.map_index=1,this.manageUI()):(y.wei.res.appName?(y.map_index=1,this.manageUI(),y.wei.shangbao("naoshi","岛")):(y.renwu_touch+=1,y.wei.setJiLiData("renwu",y.renwu_touch),1==y.canPlay?(y.wei.showToast("切换成功"),y.map_index=1,this.manageUI()):(y.jili_type=1,y.wei.getJiLi1())),y.wei.save("map_index",y.map_index))}},{key:"manageUI",value:function(){for(var e=0;e<y.all_btn.length;e++){var i=y.all_btn[e].getChildByName("xuan");e==y.map_index?i.active=!0:i.active=!1}}},{key:"initCun",value:function(){this.play.playOneShot(this.dian),"undefined"==typeof wx?(y.map_index=2,this.manageUI()):(y.wei.res.appName?(y.wei.shangbao("daguai","村"),y.map_index=2,this.manageUI()):(y.jiaocheng_touch+=1,y.wei.setJiLiData("jiaocheng",y.jiaocheng_touch),1==y.canPlay?y.wei.showToast("即将开放"):(y.jili_type=2,y.wei.getJiLi1())),y.wei.save("map_index",y.map_index))}},{key:"initZao",value:function(){this.play.playOneShot(this.dian),"undefined"==typeof wx?(y.map_index=3,this.manageUI()):(y.wei.res.appName?(y.wei.shangbao("jili","沼"),y.map_index=3,this.manageUI()):(y.pipei_touch+=1,y.wei.setJiLiData("pipei",y.pipei_touch),1==y.canPlay?y.wei.showToast("即将开放"):(y.jili_type=3,y.wei.getJiLi1())),y.wei.save("map_index",y.map_index))}}]),i}(_)).prototype,"can",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=a(x.prototype,"dian",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=x))||v)),c._RF.pop()}}}));

System.register("chunks:///zhan_ctr.js",["./_virtual/_rollupPluginBabelHelpers.js","cc","./GameInfo.js"],(function(e,t){var n,i,r,s,a,c,o,l,u,h,d,f,y;return e({_dec:void 0,_class:void 0,_temp:void 0}),{setters:[function(e){n=e.inherits,i=e.createClass,r=e.classCallCheck,s=e.possibleConstructorReturn,a=e.getPrototypeOf},function(e){c=e.cclegacy,o=e._decorator,l=e.Vec3,u=e.Component},function(e){h=e.GameInfo}],execute:function(){c._RF.push({},"6c3f8J48plBsIaduAm5Mfxr","zhan_ctr",void 0),y=o.ccclass,o.property,e("zhan_ctr",(d=y("zhan_ctr"),d(f=function(e){function t(){var e,n;r(this,t);for(var i=arguments.length,c=new Array(i),o=0;o<i;o++)c[o]=arguments[o];return(n=s(this,(e=a(t)).call.apply(e,[this].concat(c)))).isDo=!1,n}return n(t,e),i(t,[{key:"start",value:function(){}},{key:"update",value:function(e){if(this.isDo&&h.index_ji>0){var t=this.node.getChildByName("weiyi").eulerAngles,n=this.node.getChildByName("jiang").eulerAngles;this.node.getChildByName("weiyi").eulerAngles=new l(t.x,t.y,t.z+3),this.node.getChildByName("jiang").eulerAngles=new l(n.x,n.y+3,n.z)}}}]),t}(u))||f)),c._RF.pop()}}}));

System.register("chunks:///menu_ctr.js",["./_virtual/_rollupPluginBabelHelpers.js","cc","./GameInfo.js","./zhan_ctr.js"],(function(i,e){var t,n,o,a,r,s,l,u,c,p,h,d,_,g,f,w,y,v,b,m,x,S,j,z,D,k,C,N,O,T,A,M,J,L,R,I,q,B,E,P,G,H,X,Y,V,K,U,Z,F,Q,W,$,ii,ei,ti,ni,oi,ai,ri,si,li,ui,ci,pi,hi,di,_i,gi,fi;return i({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_dec6:void 0,_dec7:void 0,_dec8:void 0,_dec9:void 0,_dec10:void 0,_dec11:void 0,_dec12:void 0,_dec13:void 0,_dec14:void 0,_dec15:void 0,_dec16:void 0,_dec17:void 0,_dec18:void 0,_dec19:void 0,_dec20:void 0,_dec21:void 0,_dec22:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_descriptor5:void 0,_descriptor6:void 0,_descriptor7:void 0,_descriptor8:void 0,_descriptor9:void 0,_descriptor10:void 0,_descriptor11:void 0,_descriptor12:void 0,_descriptor13:void 0,_descriptor14:void 0,_descriptor15:void 0,_descriptor16:void 0,_descriptor17:void 0,_descriptor18:void 0,_descriptor19:void 0,_descriptor20:void 0,_descriptor21:void 0,_temp:void 0}),{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inherits,o=i.classCallCheck,a=i.possibleConstructorReturn,r=i.getPrototypeOf,s=i.initializerDefineProperty,l=i.assertThisInitialized,u=i.createClass},function(i){c=i.cclegacy,p=i._decorator,h=i.SpriteComponent,d=i.Node,_=i.LabelComponent,g=i.AudioClip,f=i.SubContextView,w=i.profiler,y=i.AudioSourceComponent,v=i.Vec3,b=i.director,m=i.Component},function(i){x=i.GameInfo},function(i){S=i.zhan_ctr}],execute:function(){c._RF.push({},"19fa7K7TcJJMb2muBsC52kJ","menu_ctr",void 0),gi=p.ccclass,fi=p.property,i("menu_ctr",(j=gi("menu_ctr"),z=fi(h),D=fi(d),k=fi(_),C=fi(d),N=fi(d),O=fi(h),T=fi(d),A=fi(_),M=fi(_),J=fi(h),L=fi(h),R=fi(g),I=fi(_),q=fi(_),B=fi(_),E=fi(_),P=fi(d),G=fi(d),H=fi([d]),X=fi(_),Y=fi(f),j((U=t((K=function(i){function e(){var i,t;o(this,e);for(var n=arguments.length,u=new Array(n),c=0;c<n;c++)u[c]=arguments[c];return t=a(this,(i=r(e)).call.apply(i,[this].concat(u))),s(t,"bg",U,l(t)),s(t,"plane",Z,l(t)),s(t,"bi",F,l(t)),s(t,"front",Q,l(t)),s(t,"next",W,l(t)),s(t,"user_icon",$,l(t)),s(t,"btn_login",ii,l(t)),s(t,"nicname",ei,l(t)),s(t,"lv_t",ti,l(t)),s(t,"xue_p",ni,l(t)),s(t,"jingyan_p",oi,l(t)),s(t,"dian",ai,l(t)),s(t,"bi_hao",ri,l(t)),s(t,"version",si,l(t)),s(t,"lu_t",li,l(t)),s(t,"lu_time",ui,l(t)),s(t,"lu",ci,l(t)),s(t,"gong",pi,l(t)),s(t,"btn",hi,l(t)),s(t,"shouyi_t",di,l(t)),s(t,"haoyou",_i,l(t)),t.hao=[100,500,1e3,2e3,5e3,1e4],t.index_bg=0,t.yao="",t.play=null,t.ps=[],t}return n(e,i),u(e,[{key:"start",value:function(){if(w.hideStats(),this.ps=this.plane.children,this.ps[x.index_ji].getComponent(S).isDo=!0,this.play=this.node.getComponent(y),this.front.active=!1,x.plane_index>0&&(this.ps[0].active=!1,this.ps[0].getComponent(S).isDo=!1,this.ps[x.index_ji].active=!0,this.ps[x.index_ji].getComponent(S).isDo=!0),0==x.share_state)this.lu_t.string="开始录屏",this.lu_time.string="未开始";else if(1==x.share_state){this.lu_t.string="停止录屏";var i="",e="";i=x.lu_f<10?"0"+x.lu_f:""+x.lu_f,e=x.lu_m<10?"0"+x.lu_m:""+x.lu_m,this.lu_time.string=i+":"+e}else if(2==x.share_state){this.lu_t.string="分享录屏";i="",e="";i=x.lu_f<10?"0"+x.lu_f:""+x.lu_f,e=x.lu_m<10?"0"+x.lu_m:""+x.lu_m,this.lu_time.string=i+":"+e}if("undefined"==typeof wx)this.lv_t.string="等级:"+x.lv,this.xue_p.fillRange=x.xue/100,this.jingyan_p.fillRange=x.jingyan/100;else{if(x.wei.icon=this.user_icon,x.wei.nic=this.nicname,x.deng=this.btn_login,x.text_bi=this.bi,x.wei.closeAd(),x.wei.getAd(),x.wei.parent=this,x.wei.showShare(),x.wei.getBi(),x.wei.getUserInfo(),x.shouyi_state=1,x.wei.shouyi(),x.wei.btn_share=this.lu,x.wei.res.appName)this.gong.active=!1,x.wei.guanzhu(),x.wei.initKefu();else{x.wei.getJiLiData(),x.wei.tui1(),x.wei.initYouxiQuan(),x.wei.fankui(),x.server.start(),x.wei.initOpen();var t=wx.getStorageSync("openid");""==t?x.wei.dologin():x.openId=t,x.wei.onShareAppMessage1("作战紧急邀请函！敌军肆虐急需救援","https://mmocgame.qpic.cn/wechatgame/fz45DryicnHmPNEgSqxfsNXXznCeBrJRJbkibwDicy1bfNHOSqe0AknwZu1ZJjXNLMib/0","4i6qRdmESOapDquTWTAhCw==","ma="+x.yao_ma)}x.gameAccessInfo=wx.getStorageSync("gameAccessInfo"),x.wei.update(),x.vip=Math.floor(x.wei.read("vip")),x.luzhi=Math.floor(x.wei.read("luzhi")),x.yao=Math.floor(x.wei.read("yao")),x.plane_index=x.wei.read("plane_index"),x.nandu_index=x.wei.read("nandu_index"),x.map_index=x.wei.read("map_index"),x.lv=x.wei.read("lv"),x.jingyan=x.wei.read("jingyan"),this.lv_t.string="等级:"+x.lv,this.xue_p.fillRange=x.xue/100,this.jingyan_p.fillRange=x.jingyan/100,this.version.string=x.version_t,this.shouyi_t.node.active=!0,this.zeng(0)}this.bi.string=""+x.bi}},{key:"manageUI",value:function(){x.wei.save("map_index",x.map_index);for(var i=0;i<x.all_btn.length;i++){var e=x.all_btn[i].getChildByName("xuan");i==x.map_index?e.active=!0:e.active=!1}}},{key:"showHaoYou",value:function(){this.play.playOneShot(this.dian),this.haoyou.node.active=!0,this.btn.forEach((function(i){i.active=!1})),wx.getOpenDataContext().postMessage("showuserlist")}},{key:"showPai",value:function(){this.play.playOneShot(this.dian),this.haoyou.node.active=!0,this.btn.forEach((function(i){i.active=!1})),wx.getOpenDataContext().postMessage("showpai")}},{key:"update",value:function(i){var e=this.plane.eulerAngles;this.plane.eulerAngles=new v(e.x,e.y-1,e.z)}},{key:"initLu",value:function(){this.play.playOneShot(this.dian),0==x.share_state?(this.lu_t.string="停止录制",this.lu_time.string="00:00",x.wei.huifang()):1==x.share_state?(this.lu_t.string="分享录屏",x.wei.stophuifang()):2==x.share_state&&x.wei.shareVideo()}},{key:"zeng",value:function(i){x.day=Math.floor(wx.getStorageSync("day")),x.day=x.day+1,100==x.day&&(x.day=0);var e=Math.floor(100+100*x.day/11);1==i&&(x.bi=x.bi+e,x.wei.setBi(x.bi),x.wei.res.appName||x.wei.updateUserBi(x.bi),x.wei.showDialog("第"+x.day+"天登陆,你累计产生离线收益"+e+"金币，每天都要来哦"),x.text_bi&&(x.text_bi.string=""+x.bi),wx.setStorageSync("day",x.day))}},{key:"show",value:function(){var i=(new Date).toDateString(),e=wx.getStorageSync("date");""==e?(this.zeng(1),x.isLogin||this.showTip()):new Date(Date.parse(i))>new Date(Date.parse(e))&&(this.zeng(1),x.isLogin||this.showTip());wx.setStorageSync("date",i)}},{key:"closeHao",value:function(){this.play.playOneShot(this.dian),this.btn.forEach((function(i){i.active=!0})),this.haoyou.node.active=!1}},{key:"showTip",value:function(){var i=this;wx.showModal({title:"未登录提示",content:"亲爱的玩家，我们注意到你还没有登录账号，这将影响到你使用游戏相关的功能，包括担不限于金币数量无法永久保存，邀请用户无法兑换礼包，无法使用好友PK等联机对战，无法兑换红包，，无法保存VIP权限，无法保存分数到排行榜进行打榜等等！我们强烈建议你登录账号以获得更好的游戏体验！",showCancel:!0,cancelText:"稍后登录",confirmText:"立即登录",success:function(e){e.confirm&&i.initLogin(),e.cancel&&x.wei.showToast("记得登录哦")}})}},{key:"initLogin",value:function(){this.play.playOneShot(this.dian),x.view=0,b.loadScene("load.scene")}},{key:"initGonggao",value:function(){this.play.playOneShot(this.dian),"undefined"==typeof wx||(x.wei.showDialog(x.msg_str),x.wei.res.appName?x.wei.shangbao("jili","公告"):(x.shijian_touch+=1,x.wei.setJiLiData("shijian",x.shijian_touch)))}},{key:"initFront",value:function(){this.play.playOneShot(this.dian),this.ps[x.index_ji].active=!1,this.ps[x.index_ji].getComponent(S).isDo=!1,x.index_ji>1?(x.index_ji-=1,this.next.active=!0):(x.index_ji=0,this.front.active=!1),this.bi_hao.string=""+this.hao[x.index_ji],this.ps[x.index_ji].active=!0,this.ps[x.index_ji].getComponent(S).isDo=!0}},{key:"initNext",value:function(){this.play.playOneShot(this.dian),this.ps[x.index_ji].active=!1,this.ps[x.index_ji].getComponent(S).isDo=!1,x.index_ji<4?(x.index_ji+=1,this.front.active=!0):(x.index_ji=5,this.next.active=!1),this.bi_hao.string=""+this.hao[x.index_ji],this.ps[x.index_ji].active=!0,this.ps[x.index_ji].getComponent(S).isDo=!0}},{key:"initGame",value:function(){this.play.playOneShot(this.dian),x.view=2,"undefined"==typeof wx?b.loadScene("load.scene"):(x.wei.res.appName?x.wei.shangbao("jili","进入游戏"):(x.level_touch+=1,x.wei.setJiLiData("level",x.level_touch)),x.bi>=this.hao[x.index_ji]?(x.bi=x.bi-this.hao[x.index_ji],x.wei.showToast("花费"+this.hao[x.index_ji]+"金币"),x.wei.setBi(x.bi),x.wei.res.appName||x.wei.updateUserBi(x.bi),b.loadScene("load.scene")):x.wei.showDialog("金币小于"+this.hao[x.index_ji]+"不能进入,去其他模式或看视频得500金币吧"))}},{key:"initGetBi",value:function(){this.play.playOneShot(this.dian),x.wei.getJiLi(500)}},{key:"initVersion",value:function(){x.open_ci<10?x.open_ci+=1:(x.open_ci=0,x.view=6,b.loadScene("load.scene"))}},{key:"initYao",value:function(){this.play.playOneShot(this.dian),x.wei.res.appName?x.wei.shangbao("jili","邀请"):(x.yao_touch+=1,x.wei.setJiLiData("yao",x.yao_touch)),x.wei.shareAppMessage1("紧急邀请函！诚邀你和我一起战斗吧","https://mmocgame.qpic.cn/wechatgame/fz45DryicnHmPNEgSqxfsNXXznCeBrJRJbkibwDicy1bfNHOSqe0AknwZu1ZJjXNLMib/0","4i6qRdmESOapDquTWTAhCw==","ma="+x.yao_ma)}},{key:"initGuanzhu",value:function(){this.play.playOneShot(this.dian),x.wei.res.appName?x.wei.shangbao("jili","关注"):(x.tansuo_touch+=1,x.wei.setJiLiData("tansuo",x.tansuo_touch)),x.wei.showDialog("请搜索关注'完不成的飞行3D'公众号吧")}},{key:"dingyueXitong",value:function(){this.play.playOneShot(this.dian),wx.requestSubscribeSystemMessage({msgTypeList:["SYS_MSG_TYPE_INTERACTIVE","SYS_MSG_TYPE_RANK"],success:function(i){console.log(i),x.wei.showToast("订阅成功")},fail:function(i){console.log(i)},complete:function(i){console.log(i)}})}},{key:"onDestroy",value:function(){this.node.getComponent(y).stop(),"undefined"==typeof wx||(x.shouyi_state=0,x.wei.res.appName?(x.wei.hideKefu(),x.wei.hideGuanzhu()):(x.wei.hideshare(),x.wei.disfankui(),x.wei.disQuan(),x.wei.closeIcon()))}}]),e}(m)).prototype,"bg",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(K.prototype,"plane",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(K.prototype,"bi",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(K.prototype,"front",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(K.prototype,"next",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=t(K.prototype,"user_icon",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ii=t(K.prototype,"btn_login",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ei=t(K.prototype,"nicname",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ti=t(K.prototype,"lv_t",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ni=t(K.prototype,"xue_p",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),oi=t(K.prototype,"jingyan_p",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ai=t(K.prototype,"dian",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ri=t(K.prototype,"bi_hao",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),si=t(K.prototype,"version",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),li=t(K.prototype,"lu_t",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ui=t(K.prototype,"lu_time",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ci=t(K.prototype,"lu",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pi=t(K.prototype,"gong",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),hi=t(K.prototype,"btn",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),di=t(K.prototype,"shouyi_t",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_i=t(K.prototype,"haoyou",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=K))||V)),c._RF.pop()}}}));

System.register("chunks:///ok_ctr.js",["./_virtual/_rollupPluginBabelHelpers.js","cc","./GameInfo.js"],(function(i,e){var t,n,a,o,r,l,u,s,c,p,_,d,h,f,g,b,y,w,m,v,k,S,C,N,j,z,x,D,J,O,A,R,q,B,L,H,P,M,T,E,X,I,G,Z,F,V,W,U,Y,K;return i({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_dec6:void 0,_dec7:void 0,_dec8:void 0,_dec9:void 0,_dec10:void 0,_dec11:void 0,_dec12:void 0,_dec13:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_descriptor5:void 0,_descriptor6:void 0,_descriptor7:void 0,_descriptor8:void 0,_descriptor9:void 0,_descriptor10:void 0,_descriptor11:void 0,_descriptor12:void 0,_temp:void 0}),{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inherits,a=i.classCallCheck,o=i.possibleConstructorReturn,r=i.getPrototypeOf,l=i.initializerDefineProperty,u=i.assertThisInitialized,s=i.createClass},function(i){c=i.cclegacy,p=i._decorator,_=i.LabelComponent,d=i.SpriteComponent,h=i.Node,f=i.AudioClip,g=i.profiler,b=i.AudioSourceComponent,y=i.game,w=i.Game,m=i.director,v=i.Component},function(i){k=i.GameInfo}],execute:function(){c._RF.push({},"0739bpbyHhFJLV1NHtBp2vj","ok_ctr",void 0),Y=p.ccclass,K=p.property,i("ok_ctr",(S=Y("ok_ctr"),C=K(_),N=K(d),j=K(h),z=K(_),x=K(_),D=K(d),J=K(d),O=K(f),A=K(_),R=K(_),q=K(h),B=K(h),S((P=t((H=function(i){function e(){var i,t;a(this,e);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return t=o(this,(i=r(e)).call.apply(i,[this].concat(s))),l(t,"bi",P,u(t)),l(t,"user_icon",M,u(t)),l(t,"btn_login",T,u(t)),l(t,"nicname",E,u(t)),l(t,"lv_t",X,u(t)),l(t,"xue_p",I,u(t)),l(t,"jingyan_p",G,u(t)),l(t,"dian",Z,u(t)),l(t,"lu_t",F,u(t)),l(t,"lu_time",V,u(t)),l(t,"lu",W,u(t)),l(t,"btn_shuang",U,u(t)),t.play=null,t}return n(e,i),s(e,[{key:"start",value:function(){var i=this;if(g.hideStats(),this.play=this.node.getComponent(b),y.on(w.EVENT_SHOW,(function(){i.play.play()}),this),0==k.share_state)this.lu_t.string="开始录屏",this.lu_time.string="未开始";else if(1==k.share_state){this.lu_t.string="停止录屏";var e="",t="";e=k.lu_f<10?"0"+k.lu_f:""+k.lu_f,t=k.lu_m<10?"0"+k.lu_m:""+k.lu_m,this.lu_time.string=e+":"+t}else if(2==k.share_state){this.lu_t.string="分享录屏";e="",t="";e=k.lu_f<10?"0"+k.lu_f:""+k.lu_f,t=k.lu_m<10?"0"+k.lu_m:""+k.lu_m,this.lu_time.string=e+":"+t}"undefined"==typeof wx?(this.lv_t.string="等级:"+k.lv,this.xue_p.fillRange=k.xue/100,this.jingyan_p.fillRange=k.jingyan/100):(k.wei.icon=this.user_icon,k.wei.nic=this.nicname,k.deng=this.btn_login,k.text_bi=this.bi,k.wei.closeAd(),k.wei.getAd(),k.wei.getCha(),k.wei.parent=this,k.wei.showShare(),k.wei.getBi(),k.wei.getUserInfo(),k.wei.btn_share=this.lu,k.wei.res.appName||(k.wei.tui1(),k.wei.onShareAppMessage1("作战紧急邀请函！敌军肆虐急需救援","https://mmocgame.qpic.cn/wechatgame/fz45DryicnHmPNEgSqxfsNXXznCeBrJRJbkibwDicy1bfNHOSqe0AknwZu1ZJjXNLMib/0","4i6qRdmESOapDquTWTAhCw==","ma="+k.yao_ma)),k.wei.res.appName?k.wei.shangbao("jili","成功界面"):(k.ok_touch+=1,k.wei.setJiLiData("ok",k.ok_touch)),this.lv_t.string="等级:"+k.lv,this.xue_p.fillRange=k.xue/100,this.jingyan_p.fillRange=k.jingyan/100),this.jiangli()}},{key:"initLu",value:function(){this.play.playOneShot(this.dian),0==k.share_state?(this.lu_t.string="停止录制",this.lu_time.string="00:00",k.wei.huifang()):1==k.share_state?(this.lu_t.string="分享录屏",k.wei.stophuifang()):2==k.share_state&&k.wei.shareVideo()}},{key:"jiangli",value:function(){var i=Math.floor(500*Math.random());if(i<150&&(i=150),k.jiang=i,k.bi=k.bi+i,"undefined"==typeof wx||(k.wei.setBi(k.bi),k.wei.res.appName||k.wei.updateUserBi(k.bi)),this.bi.string=""+k.bi,this.node.getChildByName("ad_bi").getChildByName("bi_t").getComponent(_).string=""+i,"undefined"==typeof wx);else{var e={wxgame:{renwu:k.bi,update_time:1513080573},cost_ms:36500},t={key:"renwu",value:JSON.stringify(e)};k.wei.setCloud(t)}}},{key:"showPai",value:function(){k.wei.showPai()}},{key:"initGetBi",value:function(){this.play.playOneShot(this.dian),k.wei.getJiLi(500)}},{key:"initShuangbei",value:function(){"undefined"==typeof wx||(1==k.canPlay?(this.btn_shuang.active=!1,k.wei.showToast("次数已用完")):(k.jili_type=4,k.wei.getJiLi1()))}},{key:"initMenu",value:function(){this.play.playOneShot(this.dian),k.view=1,m.loadScene("load.scene")}},{key:"initYao",value:function(){this.play.playOneShot(this.dian),k.wei.res.appName?k.wei.shangbao("jili","邀请"):(k.yao_touch+=1,k.wei.setJiLiData("yao",k.yao_touch)),k.wei.shareAppMessage1("紧急邀请函！诚邀你和我一起战斗吧","https://mmocgame.qpic.cn/wechatgame/fz45DryicnHmPNEgSqxfsNXXznCeBrJRJbkibwDicy1bfNHOSqe0AknwZu1ZJjXNLMib/0","4i6qRdmESOapDquTWTAhCw==","ma="+k.yao_ma)}},{key:"initLogin",value:function(){this.play.playOneShot(this.dian),k.view=0,m.loadScene("load.scene")}},{key:"onDestroy",value:function(){this.node.getComponent(b).stop(),"undefined"==typeof wx||k.wei.res.appName||(k.wei.hideshare(),k.wei.closeIcon())}}]),e}(v)).prototype,"bi",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(H.prototype,"user_icon",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(H.prototype,"btn_login",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=t(H.prototype,"nicname",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(H.prototype,"lv_t",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(H.prototype,"xue_p",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(H.prototype,"jingyan_p",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(H.prototype,"dian",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(H.prototype,"lu_t",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(H.prototype,"lu_time",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(H.prototype,"lu",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(H.prototype,"btn_shuang",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=H))||L)),c._RF.pop()}}}));

System.register("chunks:///open_ctr.js",["./_virtual/_rollupPluginBabelHelpers.js","cc","./GameInfo.js","./weixin.js","./game_server.js"],(function(e,n){var t,i,r,c,o,s,a,u,p,l,f,w,d,m,h,v;return e({_dec:void 0,_class:void 0,_temp:void 0}),{setters:[function(e){t=e.inherits,i=e.createClass,r=e.classCallCheck,c=e.possibleConstructorReturn,o=e.getPrototypeOf},function(e){s=e.cclegacy,a=e._decorator,u=e.profiler,p=e.director,l=e.Component},function(e){f=e.GameInfo},function(e){w=e.weixin},function(e){d=e.game_server}],execute:function(){s._RF.push({},"d7902nw8TtIPr3V8FoAtTuH","open_ctr",void 0),v=a.ccclass,a.property,e("open_ctr",(m=v("open_ctr"),m(h=function(e){function n(){var e,t;r(this,n);for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return(t=c(this,(e=o(n)).call.apply(e,[this].concat(s)))).time=5,t}return t(n,e),i(n,[{key:"start",value:function(){u.hideStats(),this.scheduleOnce(this.initOpen,this.time)}},{key:"initOpen",value:function(){"undefined"==typeof wx?(f.view=1,p.loadScene("load.scene")):(f.wei=new w,f.server=new d,f.wei.onShareAppMessage1("作战紧急邀请函！敌军肆虐急需救援","https://mmocgame.qpic.cn/wechatgame/fz45DryicnHmPNEgSqxfsNXXznCeBrJRJbkibwDicy1bfNHOSqe0AknwZu1ZJjXNLMib/0","4i6qRdmESOapDquTWTAhCw==","ma="+f.yao_ma),f.wei.start(),f.wei.onHide(),f.wei.res.appName?f.wei.getIsLogin():(f.view=5,p.loadScene("load.scene")))}}]),n}(l))||h)),s._RF.pop()}}}));

System.register("chunks:///tong_ctr.js",["./_virtual/_rollupPluginBabelHelpers.js","cc","./GameInfo.js"],(function(i,e){var t,n,o,r,a,l,u,s,c,p,d,_,h,f,g,y,w,b,v,m,S,z,x,C,D,k,L,J,O,j,N,R,A,T,I,G,q,E,B,H,M,P,X,U,Z,F,V,W,K,Q,Y,$,ii;return i({_dec:void 0,_dec2:void 0,_dec3:void 0,_dec4:void 0,_dec5:void 0,_dec6:void 0,_dec7:void 0,_dec8:void 0,_dec9:void 0,_dec10:void 0,_dec11:void 0,_dec12:void 0,_dec13:void 0,_dec14:void 0,_class:void 0,_class2:void 0,_descriptor:void 0,_descriptor2:void 0,_descriptor3:void 0,_descriptor4:void 0,_descriptor5:void 0,_descriptor6:void 0,_descriptor7:void 0,_descriptor8:void 0,_descriptor9:void 0,_descriptor10:void 0,_descriptor11:void 0,_descriptor12:void 0,_descriptor13:void 0,_temp:void 0}),{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inherits,o=i.classCallCheck,r=i.possibleConstructorReturn,a=i.getPrototypeOf,l=i.initializerDefineProperty,u=i.assertThisInitialized,s=i.createClass},function(i){c=i.cclegacy,p=i._decorator,d=i.LabelComponent,_=i.SpriteComponent,h=i.Node,f=i.AudioClip,g=i.EditBoxComponent,y=i.profiler,w=i.AudioSourceComponent,b=i.game,v=i.Game,m=i.director,S=i.Component},function(i){z=i.GameInfo}],execute:function(){c._RF.push({},"34a82X3mb5LZ5iUCKUC2JMi","tong_ctr",void 0),$=p.ccclass,ii=p.property,i("tong_ctr",(x=$("tong_ctr"),C=ii(d),D=ii(_),k=ii(h),L=ii(d),J=ii(d),O=ii(_),j=ii(_),N=ii(f),R=ii(h),A=ii(g),T=ii(d),I=ii(d),G=ii(h),x((B=t((E=function(i){function e(){var i,t;o(this,e);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return t=r(this,(i=a(e)).call.apply(i,[this].concat(s))),l(t,"bi",B,u(t)),l(t,"user_icon",H,u(t)),l(t,"btn_login",M,u(t)),l(t,"nicname",P,u(t)),l(t,"lv_t",X,u(t)),l(t,"xue_p",U,u(t)),l(t,"jingyan_p",Z,u(t)),l(t,"dian",F,u(t)),l(t,"tong",V,u(t)),l(t,"shu",W,u(t)),t.play=null,l(t,"lu_t",K,u(t)),l(t,"lu_time",Q,u(t)),l(t,"lu",Y,u(t)),t}return n(e,i),s(e,[{key:"start",value:function(){var i=this;if(y.hideStats(),z.tong_view=this.tong,this.play=this.node.getComponent(w),b.on(v.EVENT_SHOW,(function(){i.play.play()}),this),"undefined"==typeof wx?(this.lv_t.string="等级:"+z.lv,this.xue_p.fillRange=z.xue/100,this.jingyan_p.fillRange=z.jingyan/100):(z.wei.icon=this.user_icon,z.wei.nic=this.nicname,z.deng=this.btn_login,z.text_bi=this.bi,z.wei.closeAd(),z.wei.getAd(),z.wei.parent=this,z.wei.showShare(),z.wei.getBi(),z.wei.getUserInfo(),z.wei.getJiLiData(),z.wei.btn_share=this.lu,z.wei.res.appName||z.wei.onShareAppMessage1("作战紧急邀请函！敌军肆虐急需救援","https://mmocgame.qpic.cn/wechatgame/fz45DryicnHmPNEgSqxfsNXXznCeBrJRJbkibwDicy1bfNHOSqe0AknwZu1ZJjXNLMib/0","4i6qRdmESOapDquTWTAhCw==","ma="+z.yao_ma),this.lv_t.string="等级:"+z.lv,this.xue_p.fillRange=z.xue/100,this.jingyan_p.fillRange=z.jingyan/100),0==z.share_state)this.lu_t.string="开始录屏",this.lu_time.string="未开始";else if(1==z.share_state){this.lu_t.string="停止录屏";var e="",t="";e=z.lu_f<10?"0"+z.lu_f:""+z.lu_f,t=z.lu_m<10?"0"+z.lu_m:""+z.lu_m,this.lu_time.string=e+":"+t}else if(2==z.share_state){this.lu_t.string="分享录屏";e="",t="";e=z.lu_f<10?"0"+z.lu_f:""+z.lu_f,t=z.lu_m<10?"0"+z.lu_m:""+z.lu_m,this.lu_time.string=e+":"+t}}},{key:"initLu",value:function(){0==z.share_state?(this.lu_t.string="停止录制",this.lu_time.string="00:00",z.wei.huifang()):1==z.share_state?(this.lu_t.string="分享录屏",z.wei.stophuifang()):2==z.share_state&&z.wei.shareVideo()}},{key:"initMenu",value:function(){this.play.playOneShot(this.dian),z.view=1,m.loadScene("load.scene")}},{key:"setGailu",value:function(){this.play.playOneShot(this.dian),"undefined"==typeof wx||(z.wei.setJiLiData("ad_gailu",Number.parseInt(this.shu.string)),z.wei.getJiLiData(),z.wei.showToast("设置成功"))}},{key:"setGezi",value:function(){this.play.playOneShot(this.dian),"undefined"==typeof wx||(z.wei.setJiLiData("gaoshou",Number.parseInt(this.shu.string)),z.wei.getJiLiData(),z.wei.showToast("设置成功"))}},{key:"initGeng",value:function(){this.play.playOneShot(this.dian),"undefined"==typeof wx||(z.wei.getJiLiData(),z.wei.showToast("刷新成功"))}},{key:"initReset",value:function(){this.play.playOneShot(this.dian),"undefined"==typeof wx||(z.wei.resetJiLi(),z.wei.showToast("刷新成功"))}},{key:"initDing",value:function(){this.play.playOneShot(this.dian),"undefined"==typeof wx||z.wei.getDing()}},{key:"initLogin",value:function(){this.play.playOneShot(this.dian),z.view=0,m.loadScene("load.scene")}},{key:"onDestroy",value:function(){"undefined"==typeof wx||z.wei.res.appName||(z.wei.hideshare(),z.wei.closeIcon())}}]),e}(S)).prototype,"bi",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(E.prototype,"user_icon",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(E.prototype,"btn_login",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(E.prototype,"nicname",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(E.prototype,"lv_t",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(E.prototype,"xue_p",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(E.prototype,"jingyan_p",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(E.prototype,"dian",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(E.prototype,"tong",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(E.prototype,"shu",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=t(E.prototype,"lu_t",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(E.prototype,"lu_time",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(E.prototype,"lu",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=E))||q)),c._RF.pop()}}}));

System.register("chunks:///toutiao.js",["./_virtual/_rollupPluginBabelHelpers.js","cc","./GameInfo.js","./bi_ctr.js","./man_ctr.js","./player_ctr.js"],(function(e,t){var i,n,o,a,s,r,c,l,u,h,d,f,g,y,p,w,v,S,_;return e({_dec:void 0,_class:void 0,_temp:void 0}),{setters:[function(e){i=e.inherits,n=e.createClass,o=e.classCallCheck,a=e.possibleConstructorReturn,s=e.getPrototypeOf},function(e){r=e.cclegacy,c=e._decorator,l=e.director,u=e.loader,h=e.SpriteFrame,d=e.AnimationComponent,f=e.Component},function(e){g=e.GameInfo},function(e){y=e.bi_ctr},function(e){p=e.man_ctr},function(e){w=e.player_ctr}],execute:function(){r._RF.push({},"b49e99+VyRFQJ5oqbNg2e//","toutiao",void 0),_=c.ccclass,c.property,e("toutiao",(v=_("toutiao"),v(S=function(e){function t(){var e,i;o(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(i=a(this,(e=s(t)).call.apply(e,[this].concat(r)))).isWei=!1,i.res=null,i.interstitialAd=null,i.rewardedAd=null,i.login=null,i.login_ok=null,i.icon=null,i.ti=null,i.nic=null,i.isSet=!0,i.shouyi_time=60,i.isGet=!0,i.isAd=!0,i.isUpdate=!1,i.isInit=!0,i.parent=null,i.btn=null,i.feed=null,i.nickName="",i.btn_login=null,i.avatarUrl="",i.button=null,i.guan=null,i.kefu=null,i.video=null,i.btn_share=null,i.gender="",i.province="",i.city="",i.country="",i.jiangli=0,i.recorder=null,i.iconAd=null,i.portalAd=null,i.gridAd=null,i.bannerAd=null,i.bannerGameAd=null,i.path="",i}return i(t,e),n(t,[{key:"start",value:function(){this.initWeixin()}},{key:"initWeixin",value:function(){var e=this;"undefined"==typeof wx&&(this.isWei=!1),this.res=wx.getSystemInfoSync(),this.rewardedAd=wx.createRewardedVideoAd({adUnitId:"aihid2cd3i8910326n"}),this.rewardedAd.onError((function(t){g.canPlay=1,e.showToast("展示失败")})),this.rewardedAd.onClose((function(t){if(t&&t.isEnded)if(e.shangbao("jili","激励广告"),0==g.jili_type)g.jili_type=0,e.showToast("奖励500金币"),g.bi=g.bi+500,"undefined"==typeof tt||(g.wei.setBi(g.bi),g.wei.res.appName||g.wei.updateUserBi(g.bi)),g.text_bi.string=""+g.bi;else if(1==g.jili_type)g.jili_type=0,g.wei.showToast("切换成功"),g.map_index=1,e.parent.manageUI();else if(2==g.jili_type)g.jili_type=0,g.wei.showToast("即将开放");else if(3==g.jili_type)g.jili_type=0,g.wei.showToast("即将开放");else if(4==g.jili_type)g.jili_type=0,g.bi=g.bi+2*g.jiang,"undefined"==typeof tt||(g.wei.setBi(g.bi),g.wei.res.appName||g.wei.updateUserBi(g.bi)),e.parent.btn_shuang.active=!1,g.text_bi.string=""+g.bi,e.showToast("奖励已发放");else if(5==g.jili_type){g.jili_type=0,g.die_ui.active=!1,g.btn_shoot.active=!0,g.player.parent.active=!0;var i=g.player.getComponent(w);i.isDie=!1,e.parent.isAdd=!0,1==g.map_index?e.parent.enimy.children.forEach((function(e){e.getComponent(p).is_die=!1})):2==g.map_index&&(e.parent.enimy.children.forEach((function(e){e.getComponent(y).is_die=!1})),e.parent.hurt.active=!1),g.wei.closeAd(),i.one=0,e.showToast("复活成功")}else 6==g.jili_type?(g.jili_type=0,g.bei+=1,e.showToast("增加1倍"),g.bei_t.string=g.bei+"倍",g.bi_bei_t.string="*"+5*g.bei+"倍"):7==g.jili_type&&(g.jili_type=0,g.bei>0?g.bei-=1:e.showToast("已是最小倍数"),g.bei_t.string=g.bei+"倍",g.bi_bei_t.string="*"+5*g.bei+"倍")})),this.rewardedAd.onLoad((function(){console.log("激励视频 广告加载成功"),g.canPlay=0}))}},{key:"update",value:function(){var e=this;this.isUpdate=!1;var t=tt.getUpdateManager();t.onCheckForUpdate((function(t){t.hasUpdate&&e.showToast("有新版本更新..")})),t.onUpdateReady((function(){tt.showModal({title:"更新提示",content:"新版本已经准备好，是否重启游戏？",success:function(e){e.confirm&&t.applyUpdate()}})})),t.onUpdateFailed((function(){e.showToast("新版本更新失败")}))}},{key:"getAd",value:function(){this.ad()}},{key:"ad",value:function(){var e=this;if(0==g.showAd&&"Douyin"!=this.res.appName){var t=tt.getSystemInfoSync(),i=t.windowWidth,n=t.windowHeight;this.bannerAd=tt.createBannerAd({adUnitId:"41njeilf3ijm1da2kb",adIntervals:30,style:{width:200,top:n-112.5}}),this.bannerAd.style.left=(i-200)/2,this.bannerAd.onError((function(e){console.log(e),g.showAd=0})),this.bannerAd.onLoad((function(){e.bannerAd.show(),g.showAd=1})),this.bannerAd.onResize((function(t){console.log(t.width,t.height),e.bannerAd.style.top=n-t.height,e.bannerAd.style.left=(i-t.width)/2}))}}},{key:"closeAd",value:function(){g.showAd=0,this.bannerAd&&(this.bannerAd.hide(),this.bannerAd.destroy())}},{key:"closeIcon",value:function(){this.iconAd&&(this.iconAd.hide(),this.iconAd.destroy())}},{key:"getCha",value:function(){var e=this;"Toutiao"===tt.getSystemInfoSync().appName&&(this.interstitialAd&&this.interstitialAd.destroy(),this.interstitialAd=tt.createInterstitialAd({adUnitId:"1i0mpgswmnr354lfrg"}),this.interstitialAd.load().then((function(){e.interstitialAd.show()})).catch((function(e){console.log(e)})))}},{key:"getJiLi",value:function(e){g.jili_type=0,this.jiangli=e,this.showJiLi()}},{key:"getJiLi1",value:function(){this.showJiLi()}},{key:"showJiLi",value:function(){var e=this;this.rewardedAd.show().catch((function(t){e.rewardedAd.load().then((function(){return e.rewardedAd.show()})).catch((function(t){e.showToast("展示失败"),g.canPlay=1}))}))}},{key:"getUserInfo",value:function(){var e=this;wx.getUserInfo({openIdList:["selfOpenId"],success:function(t){var i=t.userInfo;e.nickName=i.nickName,e.avatarUrl=i.avatarUrl,e.gender=i.gender,e.province=i.province,e.city=i.city,e.country=i.country,g.nickName=e.nickName,g.avatarUrl=e.avatarUrl,g.deng.active=!1,wx.setStorageSync("nickName",e.nickName),wx.setStorageSync("avatarUrl",e.avatarUrl),wx.setStorageSync("gender",e.gender),wx.setStorageSync("province",e.province),wx.setStorageSync("city",e.city),wx.setStorageSync("country",e.country),e.nic.string=e.nickName,e.createImage(e.avatarUrl),g.isLogin=!0,1==g.view&&e.parent.show()},fail:function(t){g.deng.active=!0,g.isLogin=!1,e.parent.show()}})}},{key:"zhendong1",value:function(){wx.vibrateLong({})}},{key:"onShow",value:function(){wx.onShow((function(){}))}},{key:"onHide",value:function(){var e=this;wx.onHide((function(){g.dui&&(e.parent.pl.rigidBody.clearForces(),e.parent.pl.speedZ=0,e.parent.pl.t.clearAll(e),g.dui.stopSync(),g.dui.sendClient("over"),g.dui.dissRoom(),g.dui.disRoom(),e.parent.ZuoZhanOver())}))}},{key:"initPai",value:function(e){tt.setUserGroup({groupId:e})}},{key:"showPai",value:function(e,t){tt.getCloudStorageByRelation({type:"group",keyList:["tiaozhan"],extra:{sortKey:t,groupId:e},success:function(e){console.log(e)},fail:function(e){console.log("获取数据失败")}})}},{key:"setCloud",value:function(e,t){var i={ttgame:{tiaozhan:t,update_time:1513080573},cost_ms:36500};tt.setUserCloudStorage({KVDataList:[{key:e,value:JSON.stringify(i)}]})}},{key:"getBi",value:function(){var e=wx.getStorageSync("bi");if(""==wx.getStorageSync("chu")){wx.setStorageSync("chu",1),wx.setStorageSync("bi",4e3),wx.setStorageSync("you",0),wx.setStorageSync("vip",0),wx.setStorageSync("yao",0),wx.setStorageSync("time_f",0),wx.setStorageSync("version","0"),wx.setStorageSync("isYao",0),wx.setStorageSync("level",1),wx.setStorageSync("lv",1),wx.setStorageSync("jingyan",0),wx.setStorageSync("openid",""),wx.setStorageSync("gong",0),wx.setStorageSync("day",0),wx.setStorageSync("tiji",0),wx.setStorageSync("qieid",0),wx.setStorageSync("renwu",0),wx.setStorageSync("luzhi",1);for(var t=0;t<10;t++){""==wx.getStorageSync("suo"+t)&&(t>0?wx.setStorageSync("suo"+t,0):wx.setStorageSync("suo"+t,1))}for(var i=0;i<14;i++)wx.setStorageSync("car"+i,0);for(var n=0;n<3;n++)wx.setStorageSync("plane"+n,0);e=1e3}return g.bi=Math.floor(e),g.text_bi.string=Math.floor(e),g.bi}},{key:"setBi",value:function(e){wx.setStorageSync("bi",Math.floor(e))}},{key:"initOpen",value:function(){var e=wx.getLaunchOptionsSync();if("1036"==e.referrerInfo.appId)""!=e.query.roomID&&(g.joinRoomId=e.query.roomID,this.showDialog("你有新的联机对战邀请，快进入联机对战模式开始游戏吧，好友PK或4人混战等模式都可以触发到对战匹配！长时间不加入房间将被释放！")),""!=e.query.ma&&0==this.read("isYao")&&(g.bi=g.bi+500,g.text_bi.string=g.bi,this.setBi(g.bi),this.save("isYao",1),this.showDialog("通过邀请加入游戏，已奖励500金币"));else if("1035"==e.referrerInfo.appId){0==this.read("gong")&&(g.bi=g.bi+5e3,this.setBi(g.bi),this.save("gong",1),g.text_bi.string=g.bi,this.showDialog("通过公众号菜单进入游戏，已奖励5000金币"))}}},{key:"save",value:function(e,t){wx.setStorageSync(e,Math.round(t))}},{key:"read",value:function(e){return Math.round(wx.getStorageSync(e))}},{key:"getIsLogin",value:function(){var e=this;tt.login({force:!1,success:function(t){console.log("login调用成功".concat(t.code," ").concat(t.anonymousCode)),t.isLogin?(e.save("login",1),e.souquan()):(g.view=0,l.loadScene("load.scene"))},fail:function(e){g.view=0,l.loadScene("load.scene"),console.log("login调用失败")}})}},{key:"dologin",value:function(){var e=this;tt.login({force:!0,success:function(t){console.log("login调用成功".concat(t.code," ").concat(t.anonymousCode)),t.isLogin&&(e.save("login",1),e.souquan())},fail:function(e){this.showToast("登录失败"),console.log("login调用失败")}})}},{key:"souquan",value:function(){var e=this;tt.authorize({scope:"scope.userInfo",success:function(t){console.log("authorize"),g.isLogin=!0,g.view=1,e.showToast("授权成功"),l.loadScene("load.scene")},fail:function(t){console.log("login调用失败"),e.opensetting()}})}},{key:"opensetting",value:function(){var e=this;tt.openSetting({success:function(t){g.isLogin=!0,g.view=1,l.loadScene("load.scene"),e.showToast("设置成功")},fail:function(t){e.showToast("授权失败")}})}},{key:"createImage",value:function(e){var t=this;u.release(e),console.log("头像加载"),u.load({url:e,type:"png"},(function(e,i){if(e)console.log(e);else{var n=new h;n.texture=i._texture,t.icon.spriteFrame=n,console.log("头像加载成功")}}))}},{key:"showToast",value:function(e){wx.showToast({title:e,icon:"success",duration:800})}},{key:"showDialog",value:function(e){wx.showModal({title:"温馨提示",content:e,success:function(e){e.confirm}})}},{key:"showDialog1",value:function(e){var t=this;wx.showModal({title:"紧急匹配，人数不足就差你",content:e,success:function(e){e.confirm&&t.shareAppMessage1("紧急匹配邀请函！和我一起全民大作战吧","https://mmocgame.qpic.cn/wechatgame/fz45DryicnHmg7xW0BnhBvaAZfURicNJFJUqHyLiaLPJMIHE1BFGsuXPfRveicjRr1Og/0","jyp_xvHCQ4uMP5SlMNOl1Q","ma="+g.yao_ma)}})}},{key:"showBuzu",value:function(e,t){wx.showModal({title:"警告！血量过低",content:e,success:function(e){e.confirm&&t.initMan()}})}},{key:"zeng",value:function(){wx.showModal({title:"温馨提示",content:"欢迎回来，赠送你500金币，每天回来都有哦！",success:function(e){e.confirm}});var e=wx.getStorageSync("bi");e+=500,this.setBi(e)}},{key:"updateShare",value:function(){wx.updateShareMenu({withShareTicket:!1,success:{}})}},{key:"showShare",value:function(){wx.showShareMenu({withShareTicket:!1})}},{key:"shareAppMessage",value:function(e,t,i){wx.shareAppMessage({title:e,imageUrl:t,imageUrlId:i})}},{key:"shareAppMessage1",value:function(e,t,i,n){wx.shareAppMessage({title:e,imageUrl:t,imageUrlId:i,query:n})}},{key:"onShareAppMessage",value:function(e,t,i){wx.onShareAppMessage((function(){return{title:e,imageUrl:t,imageUrlId:i}}))}},{key:"onShareAppMessage1",value:function(e,t,i,n){wx.onShareAppMessage((function(){return{title:e,imageUrl:t,imageUrlId:i,query:n}}))}},{key:"getShareInfo",value:function(e){wx.getShareInfo({shareTicket:e,success:function(){}})}},{key:"zhendong",value:function(){wx.vibrateShort({})}},{key:"shangbao",value:function(e,t){tt.reportAnalytics(e,{jili:t})}},{key:"guanzhu",value:function(){var e=this;tt.checkFollowState({success:function(t){0==t.result&&(e.guan=tt.createFollowButton({type:"text",text:"关注",style:{left:20,top:e.res.windowHeight/3-50,width:50,height:40,lineHeight:40,backgroundColor:"#ff0000",textColor:"#ffffff",textAlign:"center",fontSize:16,borderRadius:4,borderWidth:1,borderColor:"#ff0000"}}),e.showGuanZhu()),console.log(t.result)}})}},{key:"hideGuanzhu",value:function(){this.guan&&this.guan.hide()}},{key:"showGuanZhu",value:function(){this.guan.show()}},{key:"initKefu",value:function(){this.kefu=tt.createContactButton({type:"text",text:"客服",style:{left:20,top:this.res.windowHeight/3+10,width:50,height:40,lineHeight:40,backgroundColor:"#ec3507",textAlign:"center",fontSize:16,borderRadius:4,borderColor:"#ffffff",borderWidth:1,textColor:"#ffffff"},success:function(e){console.log("create success",e)},fail:function(e){console.log("create fail",e)},complete:function(e){console.log("create complete",e)}}),this.kefu.onTap((function(){console.log("点击客服按钮")})),this.kefu.show()}},{key:"showKefu",value:function(){this.kefu.show()}},{key:"hideKefu",value:function(){this.kefu&&this.kefu.hide()}},{key:"huifang",value:function(){var e=this;this.recorder=tt.getGameRecorderManager(),g.lu_m=0,g.lu_f=0,this.recorder.start({duration:300}),this.recorder.onStart((function(t){e.showToast("回放录制"),g.share_state=1,e.update_t()})),this.recorder.onStop((function(t){console.log(t.videoPath),e.video=t.videoPath,g.lu_m<3?(e.showToast("录制太短"),g.share_state=0,e.parent.lu_t.string="开始录屏",e.parent.lu_time.string="未开始"):(g.share_state=2,e.parent.lu_t.string="分享录屏",e.showToast("录制完成"))}))}},{key:"update_t",value:function(){var e=this;setTimeout((function(){g.lu_m<59?g.lu_m+=1:(g.lu_m=0,g.lu_f+=1);var t="",i="";t=g.lu_f<10?"0"+g.lu_f:""+g.lu_f,i=g.lu_m<10?"0"+g.lu_m:""+g.lu_m,e.parent.lu_time.string=t+":"+i,1==g.share_state&&e.update_t()}),1e3)}},{key:"shouyi",value:function(){var e=this;setTimeout((function(){if(e.shouyi_time>0)e.shouyi_time-=1;else{e.shouyi_time=60;var t=Math.floor(Math.random()*g.lv*10);t<4&&(t=4),g.bi=g.bi+t,g.wei.setBi(g.bi),g.wei.res.appName||g.wei.updateUserBi(g.bi),g.wei.showToast("在线收益"+t+"金币"),g.text_bi.string=""+g.bi}e.parent.shouyi_t.string=e.shouyi_time+"s后产生在线收益",e.parent.shouyi_t.getComponent(d).play(),1==g.shouyi_state&&e.shouyi()}),1e3)}},{key:"stophuifang",value:function(){this.recorder.stop()}},{key:"createShareHuiFang",value:function(){this.btn_share.visible=!0}},{key:"shareVideo",value:function(){var e=this;tt.shareAppMessage({channel:"video",title:"游戏时刻精彩分享",desc:"玩家在《完不成的飞行3D》游戏时刻精彩分享",imageUrl:"",templateId:"i5n9dinhorj1fgj501",query:"",extra:{videoPath:this.video,videoTopics:["完不成的飞行3D","飞行","飞机驾驶"],withVideoId:!0},success:function(t){console.log(t.videoId),e.showToast("分享成功"),g.share_state=0,g.lu_m=0,g.lu_f=0,e.parent.lu_t.string="开始录屏",e.parent.lu_time.string="未开始",console.log("分享视频成功")},fail:function(t){console.log(t),g.share_state=0,g.lu_m=0,g.lu_f=0,e.parent.lu_t.string="开始录屏",e.parent.lu_time.string="未开始",e.showToast("分享失败")}})}},{key:"hideshare",value:function(){this.btn_share.visible=!1}}]),t}(f))||S)),r._RF.pop()}}}));

System.register("chunks:///_virtual/prerequisite-imports:main",["../GameInfo.js","../bg_ctr.js","../bi_ctr.js","../man_ctr.js","../player_ctr.js","../weixin.js","../camera_ctr.js","../game_ctr.js","../daodan_ctr.js","../fail_ctr.js","../game_server.js","../load_ctr.js","../loadres_ctr.js","../login_ctr.js","../map_ctr.js","../menu_all_ctr.js","../zhan_ctr.js","../menu_ctr.js","../ok_ctr.js","../open_ctr.js","../tong_ctr.js","../toutiao.js"],(function(n,t){return{setters:[function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){},function(n){}],execute:function(){}}}));

(function(r) {
  r('project:///assets/script/GameInfo.js', 'chunks:///GameInfo.js');
  r('project:///assets/script/bg_ctr.js', 'chunks:///bg_ctr.js');
  r('project:///assets/script/bi_ctr.js', 'chunks:///bi_ctr.js');
  r('project:///assets/script/man_ctr.js', 'chunks:///man_ctr.js');
  r('project:///assets/script/player_ctr.js', 'chunks:///player_ctr.js');
  r('project:///assets/script/weixin.js', 'chunks:///weixin.js');
  r('project:///assets/script/camera_ctr.js', 'chunks:///camera_ctr.js');
  r('project:///assets/script/game_ctr.js', 'chunks:///game_ctr.js');
  r('project:///assets/script/daodan_ctr.js', 'chunks:///daodan_ctr.js');
  r('project:///assets/script/fail_ctr.js', 'chunks:///fail_ctr.js');
  r('project:///assets/script/game_server.js', 'chunks:///game_server.js');
  r('project:///assets/script/load_ctr.js', 'chunks:///load_ctr.js');
  r('project:///assets/script/loadres_ctr.js', 'chunks:///loadres_ctr.js');
  r('project:///assets/script/login_ctr.js', 'chunks:///login_ctr.js');
  r('project:///assets/script/map_ctr.js', 'chunks:///map_ctr.js');
  r('project:///assets/script/menu_all_ctr.js', 'chunks:///menu_all_ctr.js');
  r('project:///assets/script/zhan_ctr.js', 'chunks:///zhan_ctr.js');
  r('project:///assets/script/menu_ctr.js', 'chunks:///menu_ctr.js');
  r('project:///assets/script/ok_ctr.js', 'chunks:///ok_ctr.js');
  r('project:///assets/script/open_ctr.js', 'chunks:///open_ctr.js');
  r('project:///assets/script/tong_ctr.js', 'chunks:///tong_ctr.js');
  r('project:///assets/script/toutiao.js', 'chunks:///toutiao.js');
  r('virtual:///prerequisite-imports:main', 'chunks:///_virtual/prerequisite-imports:main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    var _m;
    return {
        setters: [function(m) { _m = m; }],
        execute: function () { _export(_m); }
    };
    });
});